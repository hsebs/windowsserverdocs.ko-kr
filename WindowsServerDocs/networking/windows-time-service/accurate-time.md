---
ms.assetid: 72a90d00-56ee-48a9-9fae-64cbad29556c
title: Windows Server 2016의 정확한 시간
description: 이전 버전과 완전 NTP 이전 Windows 버전과 호환성을 유지 하면서 Windows Server 2016에서 시간 동기화 정확도 크게 향상 되었습니다.
author: dcuomo
ms.author: dacuo
ms.date: 05/08/2018
ms.topic: article
ms.prod: windows-server
ms.technology: networking
ms.openlocfilehash: 0486033ee52432191cb35f2ce38c44d5b7728a2e
ms.sourcegitcommit: 3a3d62f938322849f81ee9ec01186b3e7ab90fe0
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/23/2020
ms.locfileid: "80861686"
---
# <a name="accurate-time-for-windows-server-2016"></a>Windows Server 2016의 정확한 시간

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows 10 이상

Windows 시간 서비스는 클라이언트 및 서버 시간 동기화 공급자를 위한 플러그 인 모델을 사용하는 구성 요소입니다.  Windows에는 두 개의 기본 제공 클라이언트 공급자가 있으며, 사용 가능한 타사 플러그 인이 있습니다. 한 공급자는 [NTP(RFC 1305)](https://tools.ietf.org/html/rfc1305) 또는 [MS NTP](https://msdn.microsoft.com/library/cc246877.aspx)를 사용하여 로컬 시스템 시간을 NTP 및/또는 MS NTP 규격 참조 서버와 동기화합니다. 다른 공급자는 Hyper-v 용 하 고 Hyper-v 호스트에 가상 컴퓨터 (VM)를 동기화 합니다.  여러 공급자가 존재하는 경우 Windows는 먼저 계층 수준을 사용하여 최상의 공급자를 선택하고, 그 다음으로 루트 지연, 루트 분산 및 시간 오프셋을 차례로 선택합니다.

> [!NOTE]
> Windows 시간 서비스에 대한 간략한 개요는 이 [고급 개요 비디오](https://aka.ms/WS2016TimeVideo)를 살펴보세요.

이 항목에서는 정확한 시간 설정과 관련된 다음 항목에 대해 설명합니다. 

- 향상 된 기능
- 측정
- 모범 사례

> [!IMPORTANT]
> Windows 2016 정확한 시간 문서에서 참조하는 추록은 [여기에서](https://windocs.blob.core.windows.net/windocs/WindowsTimeSyncAccuracy_Addendum.pdf) 다운로드할 수 있습니다.  이 문서에서는 테스트 및 측정 방법에 대한 자세한 정보를 제공합니다.

> [!NOTE] 
> Windows 시간 공급자 플러그 인 모델은 [technet 문서화](https://msdn.microsoft.com/library/windows/desktop/ms725475%28v=vs.85%29.aspx)합니다.

## <a name="domain-hierarchy"></a>도메인 계층 구조
도메인 및 독립 실행형 구성을 다르게 작동합니다.

- 도메인 멤버 인증을 사용 하 여 보안 및 시간 참조의 신뢰성을 보장 하는 보안 NTP 프로토콜을 사용 합니다.  도메인 구성원이 도메인 계층 구조 및 점수 매기기 기준 마스터 시계와 동기화 합니다.  도메인에 각 DC 보다 정확한 시간 계층 함께 부모 DC 가리키는 반면, 시간 stratums의 계층적 계층.  계층은 PDC 또는 루트 포리스트의 DC 또는 도메인에 대 한 좋은 시간 서버를 나타내는 GTIMESERV 도메인 플래그를 사용 하 여 DC를 확인 합니다.  아래의 [GTIMESERV를 사용하는 신뢰할 수 있는 로컬 시간 서비스 지정] 섹션을 참조하세요.

- 독립 실행형 컴퓨터는 기본적으로 time.windows.com를 사용 하도록 구성 됩니다.  이 이름은 Microsoft 소유 리소스를 가리키는 DNS Server에서 확인됩니다.  네트워크 중단, 모든 데이터베이스가 원격 시간 참조와 같은 동기화를 못할 수 있습니다.  네트워크 트래픽 로드 하 고 비대칭 네트워크 경로 시간 동기화의 정확도 줄일 수 있습니다.  1밀리초의 정확도는 원격 시간 원본에 종속될 수 없습니다.

Hyper-v 게스트에서 선택할 수 있는 두 개 이상의 Windows 시간 공급자가 됩니다 호스트 시간과 NTP 때 나타날 수 있습니다 다른 도메인 또는 독립 실행형 동작도 게스트로 실행 중입니다.

> [!NOTE] 
> 도메인 계층 구조 및 점수 매기기 시스템에 대한 자세한 내용은 ["Windows 시간 서비스란?"](https://blogs.msdn.microsoft.com/w32time/2007/07/07/what-is-windows-time-service/)을 참조하세요. 블로그 게시물.

> [!NOTE]
> 계층의 NTP와 Hyper-v 공급자에서에서 사용 되는 개념 이며 해당 값 계층 구조에서 시계 위치를 나타냅니다.  계층 1은 최상위 시계용으로 예약되어 있으며 계층 0은 정확하다고 간주되는 하드웨어용으로 예약되어 있으며, 관련된 지연은 거의 또는 전혀 없는 것으로 간주됩니다.  계층 2 계층 1 서버, 계층 2에 3 계층에 문의 하십시오.  하위 계층을 나타내기도 더 정확 하 게 시계를 하는 동안에 불일치를 찾을 수 있습니다.  또한 W32time 시간 계층 15에서에서 또는 아래 허용합니다.  클라이언트의 계층을 보려면 사용 하 여 *w32tm /query /status*합니다.

## <a name="critical-factors-for-accurate-time"></a>정확한 시간에 대한 중요한 요인
정확한 시간에 대 한 모든 경우는 다음과 같이 세 가지 중요 한 요인이 있습니다.

1. **견고한 소스 클록** -안정적이 고 정확 하 게 되도록 도메인 요구 사항에 소스 시계입니다. 이 문제는 일반적으로 GPS 디바이스를 설치 하거나 # 3을 고려 하는 계층 1 소스를 가리키는 의미 합니다. 이동, 물에 두 배를 설정한 경우 하나의 다른에 비해 고도 측정 하려고 하는 비유 정확도 원본 재벌은 매우 안정적이 고 하지 이동 하는 경우 가장 좋습니다. 시간적으로도 동일한데 소스 시계가 안정적이지 않으면 동기화된 시계의 전체 체인은 각 단계에서 영향을 받고 확대됩니다. 또한 연결 중단이 시간 동기화를 방해하기 때문에 액세스할 수 있어야 합니다. 마지막으로 안전해야 합니다. 시간 참조가 적절하게 유지되지 않거나 잠재적으로 악의적인 당사자에 의해 운영되지 않은 경우, 도메인을 시간 기반 공격에 노출시킬 수 있습니다.
2. **안정적인 클라이언트 시계** -안정적인 클라이언트 시계는 오실 레이 터의 자연 스러운 드리프트 containable 임을 보장 합니다.  NTP 조건 및 로컬 컴퓨터 클록 분야를 잠재적으로 여러 NTP 서버에서 여러 샘플을 사용 합니다.  시간 변경 단계를 거치지 않고 정확한 시간에 빠르게 접근하고 NTP 요청 간에 정확한 시간을 유지하기 위해 로컬 시계를 느리게 하거나 빠르게 합니다.  그러나 클라이언트 컴퓨터 시계의 오실레이터가 안정적이지 않으면 조정 사이에 더 많은 변동이 발생할 수 있으며 Windows가 시계를 조정하는 데 사용하는 알고리즘이 정확하게 작동하지 않습니다.  일부 경우에 정확한 시간에 대 한 펌웨어 업데이트가 필요할 수 있습니다.
3. **대칭 NTP 통신** -NTP 통신에 대 한 연결이 대칭 중요 한 것입니다.  NTP은 네트워크 패치는 대칭 가정 하는 시간을 조정 하려면 계산을 사용 합니다.  경로 NTP 패킷은 진행 중인 서버에 서로 다른 시간을 반환 하는 경우 정확도 영향을 받습니다.  예를 들어 경로 네트워크 토폴로지 또는 다른 인터페이스 속도 디바이스를 통해 라우팅되지 패킷의 변경으로 인해 변경 수 있습니다.

배터리 전원 디바이스, 모바일 및 휴대용, 다양 한 전략 고려해 야 합니다.  권장 사항은 따라 정확한 시간을 1 초 마다, 시계 업데이트 빈도 검증 된 수에 시계가 필요 합니다. 이러한 설정은 배터리 전원 절전 모드를 사용할 수 있는 Windows에서 이러한 디바이스에 대 한 간섭할 수와 예상 보다 더 많은 사용 합니다. 또한 배터리 구동 디바이스에는 모든 애플리케이션의 실행을 중지하는 특정 전원 모드가 있으며, 이는 시계를 조절하고 정확한 시간을 유지하는 W32time의 기능을 방해합니다. 또한, 모바일 디바이스에서 시계 수 있습니다 매우 정확 하 게를 시작 합니다.  주변 환경 조건 클록 정확도 영향을 하 고 모바일 디바이스 시간을 정확 하 게 유지 하는 기능을 방해할 수 있는 다음 한 앰비언트 조건에서 이동할 수 있습니다.  Microsoft는 높은 정확도 설정을 사용 하 여 배터리 전원 휴대용 디바이스를 설정 하는 좋지 않습니다. 

## <a name="why-is-time-important"></a>시간이 중요 한 이유는 무엇입니까?  
여러 가지 이유가 정확한 시간이 필요할 수 있습니다.  Windows에 대 한 일반적인 경우에는 정확도 클라이언트와 서버 간에 5 분을 필요로 하는 Kerberos입니다.  그러나는 정확도 등을 비롯 하 여 영향을 받을 수 있는 다른 여러 영역이 있습니다.


- 정부 규제 선택:
    - 미국에서 FINRA에 대 한 50ms 정확도
    - 1 ms ESMA (MiFID II) EU에 있습니다.
- 암호화 알고리즘
- 문서 Db 및 클러스터/SQL/Exchange 같은 분산된 시스템
- Bitcoin 트랜잭션에 대 한 Blockchain 프레임 워크
- 분산된 로그 및 위협 분석 
- AD 복제
- PCI (Payment 카드 업계), 현재 1 두 번째 정확도



[!INCLUDE [windows-server-2016-improvements](windows-server-2016-improvements.md)]
