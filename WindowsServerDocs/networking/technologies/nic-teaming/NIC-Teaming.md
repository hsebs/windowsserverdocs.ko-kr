---
title: NIC 팀
description: 이 항목에서는 Windows Server 2016의 NIC (네트워크 인터페이스 카드) 팀에 대 한 개요를 제공 합니다. NIC 팀을 사용 하면 32 하나 이상의 실제 이더넷 네트워크 어댑터 간에 하나 이상의 소프트웨어 기반 가상 네트워크 어댑터로 그룹화 할 수 있습니다. 이 가상 네트워크 어댑터에는 빠른 성능과 네트워크 어댑터 오류 발생 시 내결함성을 제공합니다.
manager: dougkim
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: networking-nict
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: abded6f3-5708-4e35-9a9e-890e81924fec
ms.author: lizross
author: eross-msft
ms.date: 09/10/2018
ms.openlocfilehash: f4d9dd20d626f998bee0a8414c281cd27b2d3dbb
ms.sourcegitcommit: da7b9bce1eba369bcd156639276f6899714e279f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/26/2020
ms.locfileid: "80316444"
---
# <a name="nic-teaming"></a>NIC 팀

>적용 대상: Windows Server(반기 채널), Windows Server 2016

이 항목에서는 Windows Server 2016의 NIC (네트워크 인터페이스 카드) 팀에 대 한 개요를 제공 합니다. NIC 팀을 사용 하면 32 하나 이상의 실제 이더넷 네트워크 어댑터 간에 하나 이상의 소프트웨어 기반 가상 네트워크 어댑터로 그룹화 할 수 있습니다. 이 가상 네트워크 어댑터에는 빠른 성능과 네트워크 어댑터 오류 발생 시 내결함성을 제공합니다.  
  
> [!IMPORTANT]
> NIC 팀 구성원 네트워크 어댑터는 동일한 물리적 호스트 컴퓨터에 설치 해야 합니다. 

> [!TIP]  
> 네트워크 어댑터가 하나뿐인 NIC 팀에서는 부하 분산 및 장애 조치 (failover)를 제공할 수 없습니다. 그러나 하나의 네트워크 어댑터를 사용 하는 경우 Vlan (virtual Local Area Network)을 사용 하는 경우 네트워크 트래픽을 분리 하기 위해 NIC 팀을 사용할 수 있습니다.  
  
NIC 팀에 네트워크 어댑터를 구성 하는 경우 NIC 팀 솔루션 공통 코어에 연결 하 고,이를 통해 운영 체제에 하나 이상의 가상 어댑터 (팀 Nic [tNICs] 또는 팀 인터페이스 라고도 함)를 제공 합니다. 

Windows Server 2016는 팀 당 최대 32 개의 팀 인터페이스를 지원 하므로 Nic 간에 아웃 바운드 트래픽 (부하)을 분산 하는 다양 한 알고리즘이 있습니다.  다음 그림은 여러 tNICs 인 NIC 팀을 보여 줍니다.  
  
![여러 tNICs NIC 팀](../../media/NIC-Teaming/nict_overview.jpg)  
  
또한 팀으로 구성 된 Nic를 동일한 스위치나 다른 스위치에 연결할 수 있습니다. 서로 다른 스위치에 Nic를 연결 하는 경우 두 스위치가 모두 동일한 서브넷에 있어야 합니다.  
  
## <a name="availability"></a>가용성  
NIC 팀은 Windows Server 2016의 모든 버전에서 사용할 수 있습니다. 다음과 같은 다양 한 도구를 사용 하 여 클라이언트 운영 체제를 실행 하는 컴퓨터에서 NIC 팀을 관리할 수 있습니다. • Windows PowerShell cmdlet • 원격 데스크톱 • 원격 서버 관리 도구  
  
## <a name="supported-and-unsupported-nics"></a>지원 되거나 지원 되지 않는 Nic   
Windows Server 2016에서 NIC 팀에서 (WHQL 테스트)는 Windows 하드웨어 규정 및 로고 테스트 경과 된 NIC를 사용할 수 있습니다.  
  
NIC 팀에는 다음 Nic를 추가할 수 없습니다.
  
-   Hyper-v 가상 스위치 포트는 호스트 파티션에 Nic로 노출 하는 Hyper-v 가상 네트워크 어댑터입니다.  
  
    > [!IMPORTANT]  
    > Hyper-v 가상 Nic가 팀의 호스트 파티션 (vNICs)에 노출 되지 않도록 합니다. 모든 구성에서 호스트 파티션 내에서 vNICs 팀을 지원 하지 않습니다. 팀 vNICs 하려고 수 완전히 손실 통신 네트워크 오류 발생 하는 경우.  
  
-   KDNIC (커널 디버그 네트워크 어댑터).  
  
-   네트워크 부팅에 사용 되는 Nic입니다.  
  
-   이더넷, WWAN, WLAN/Wi-fi, 블루투스, Infiniband, Infiniband (IPoIB) Nic를 통해 인터넷 프로토콜을 포함 하 여 등 이외의 기술을 사용 하는 nic가 있습니다.  
  
## <a name="compatibility"></a>호환성  
NIC 팀은 다음과 같은 예외가 Windows Server 2016의 모든 네트워킹 기술과 호환 됩니다.  
  
-   **단일 루트 I/O 가상화 (SR-IOV)** 합니다. SR-IOV를 데이터 (가상화의 경우 표시 되는 호스트 운영 체제)에서 네트워킹 스택을 통과 하지 않고 NIC에 직접 배달 됩니다. 따라서 NIC 팀을 검사 하거나 데이터를 팀의 다른 경로로 리디렉션할 수 없는 합니다.  
  
-   **기본 호스트 서비스 품질 (QoS)** 합니다. 네이티브 또는 호스트 시스템에 QoS 정책을 설정 하 고 해당 정책에서 최소 대역폭 제한을 호출 하는 경우 NIC 팀의 전체 처리량은 대역폭 정책이 적용 되지 않는 것 보다 낮습니다.  
  
-   **TCP Chimney**합니다. TCP Chimney 오프 로드는 NIC에 직접 전체 네트워킹 스택에서 때문에 NIC 팀과 TCP Chimney는 사용할 수 없습니다.  
  
-   **802.1 X 인증**합니다. 일부 스위치는 동일한 포트에서 두 802.1 X 인증 및 NIC 팀 구성을 모두 허용 하지 않으므로 NIC 팀과 802.1 X 인증을 사용 하지 않아야 합니다.  
  
Hyper-v 호스트에서 실행 되는 Vm (가상 컴퓨터) 내에서 NIC 팀을 사용 하는 방법에 대 한 자세한 내용은 [호스트 컴퓨터 또는 VM에서 새 Nic 팀 만들기](Create-a-New-NIC-Team-on-a-Host-Computer-or-VM.md)를 참조 하세요.
  
## <a name="virtual-machine-queues-vmqs"></a>가상 컴퓨터 큐 (Vmq)  

Vmq는 각 VM에 대 한 큐를 할당 하는 NIC 기능입니다.  언제 든 지 Hyper-v를 사용할 수 있습니다. VMQ도 사용 하도록 설정 해야 합니다. Windows Server 2016에서 Vmq는 동일한 기능을 제공 하기 위해 Vports에 할당 된 단일 큐로 NIC 스위치 vPorts를 사용 합니다. 

스위치 구성 모드 및 부하 분산 알고리즘에 따라, NIC 팀은 팀의 모든 어댑터 (최소 큐 모드)에서 사용 가능한 최소 및 지원 큐 수를 제공 하거나 모든 팀에서 사용할 수 있는 총 큐 수를 제공 합니다. 멤버 (큐의 합계 모드).  

팀이 스위치 독립적 팀 모드에 있고 부하 분산을 Hyper-v 포트 모드 또는 동적 모드로 설정 하는 경우 보고 되는 큐의 수는 팀 멤버 (큐의 합계 모드)에서 사용할 수 있는 모든 큐의 합계입니다. 그렇지 않은 경우 보고 되는 큐의 수는 팀의 모든 멤버 (최소 큐 모드)에서 지원 되는 최소 큐 수입니다.

이유는 다음과 같습니다.  
  
-   스위치 독립적 팀이 Hyper-v 포트 모드 또는 동적 모드일 때 Hyper-v 스위치 포트 (VM)에 대 한 인바운드 트래픽은 항상 동일한 팀 구성원에 도달 합니다. 호스트는 특정 팀 멤버에 게 할당할 VMQ 큐에 대 한 자세한 정보를 확인할 수 있도록 특정 VM에 대 한 트래픽을 수신 하는 구성원을 예측/제어할 수 있습니다. NIC 팀은 Hyper-v 스위치를 사용 하 여 정확히 한 팀 구성원의 VM에 대해 VMQ를 설정 하 고 인바운드 트래픽이 해당 큐에 도달 하는 것을 알 수 있습니다.  
  
-   스위치 종속 모드 (정적 팀 또는 팀 LACP)에서 팀의 경우 팀에 연결 된 스위치 인바운드 트래픽 배포를 제어 합니다. 호스트의 NIC 팀 소프트웨어에서 VM에 대 한 인바운드 트래픽을 가져오는 팀 구성원을 예측할 수 없으며, 스위치에서 모든 팀 구성원에 게 VM에 대 한 트래픽을 분산 시킬 수 있습니다. NIC 팀 소프트웨어의 결과로 Hyper-v 스위치를 사용 하면 하나의 팀 구성원 뿐만 아니라 모든 팀 구성원의 VM에 대 한 큐를 프로그램에서 사용할 수 있습니다.  
  
-   팀이 스위치 독립적 모드에 있고 주소 해시 부하 분산을 사용 하는 경우 인바운드 트래픽은 항상 하나의 NIC (주 팀 구성원)에서 하나의 팀 멤버에만 제공 됩니다. 다른 팀 멤버는 인바운드 트래픽을 처리 하지 않기 때문에 주 멤버가 실패 하면 다른 모든 팀 멤버를 사용 하 여 인바운드 트래픽을 선택 하 고 큐가 이미 준비 되도록 주 멤버와 동일한 큐로 프로그래밍할 수 있습니다.  

- 대부분의 Nic에는 RSS (수신측 배율) 또는 VMQ에 사용 되는 큐가 있지만 동시에 사용 되지 않습니다. 일부 VMQ 설정은 RSS 큐에 대 한 설정으로 나타나지만 현재 사용 중인 기능에 따라 RSS와 VMQ 모두 사용 하는 일반 큐의 설정입니다. 각 NIC에는 고급 속성에서 값에 대 한 * RssBaseProcNumber 및 \*MaxRssProcessors 합니다. 다음은 시스템 성능을 향상 시키는 몇 가지 VMQ 설정입니다.  
  
-   이상적으로 각 NIC에는 * RssBaseProcNumber가 2 보다 크거나 같은 짝수로 설정 되어 있어야 합니다. 첫 번째 실제 프로세서 인 코어 0 (논리 프로세서 0 및 1)은 일반적으로 대부분의 시스템 처리 작업을 수행 하 여 네트워크 처리가이 실제 프로세서에서 떨어진 곳으로 이동 해야 합니다. 일부 컴퓨터 아키텍처에는 실제 프로세서 당 2 개의 논리 프로세서가 없으므로 이러한 컴퓨터의 경우 기본 프로세서는 1 보다 크거나 같아야 합니다. 확실 하지 않은 경우 호스트가 실제 프로세서 아키텍처 당 2 개의 논리적 프로세서를 사용 하 고 있다고 가정 합니다.  
  
-   팀이 큐의 합계 모드에 있는 경우 팀 멤버의 프로세서는 겹치지 않아야 합니다. 예를 들어 4 코어 호스트 (논리적 프로세서 8 개)에서 2 개의 10Gbps Nic 팀을 사용 하 여 첫 번째 Nic를 설정 하 여 2의 기본 프로세서를 사용 하 고 4 개 코어를 사용할 수 있습니다. 두 번째는 기본 프로세서 6을 사용 하도록 설정 되 고 2 개 코어를 사용 하도록 설정 됩니다.  
  
-   최소 큐 모드에서 팀은 팀 멤버에 의해 사용 되는 프로세서 집합 동일 해야 합니다.  

  
## <a name="hyper-v-network-virtualization-hnv"></a>Hyper-V 네트워크 가상화(HNV)  
NIC 팀은 완전히 호환 Hyper-v 네트워크 가상화 (HNV)를 사용 합니다.  HNV 관리 시스템은 nic 팀에서 HNV 트래픽을 최적화 하는 방식으로 부하를 분산할 수 있도록 하는 NIC 팀 드라이버에 정보를 제공 합니다.  
  
## <a name="live-migration"></a>실시간 마이그레이션  
Vm의 NIC 팀의 실시간 마이그레이션 영향을 주지 않습니다. VM에서 NIC 팀을 구성 하는지 여부를 실시간 마이그레이션에 대 한 동일한 규칙이 있습니다.  


## <a name="virtual-local-area-networks-vlans"></a>Vlan (Virtual Local Area Network)
NIC 팀을 사용 하는 경우 여러 팀 인터페이스를 만들면 호스트가 동시에 다른 Vlan에 연결할 수 있습니다. 다음 지침에 따라 환경을 구성 합니다.
  
- NIC 팀을 사용 하도록 설정 하기 전에 트렁크 (무차별) 모드를 사용 하도록 팀 호스트에 연결 된 실제 스위치 포트를 구성 합니다. 물리적 스위치는 트래픽을 수정 하지 않고 필터링을 위해 호스트에 모든 트래픽을 전달 해야 합니다.  

- NIC 고급 속성 설정을 사용 하 여 Nic에서 VLAN 필터를 구성 하지 마세요. NIC 팀 소프트웨어나 Hyper-v 가상 스위치 (있는 경우)에서 VLAN 필터링을 수행 하도록 합니다.  
  
### <a name="use-vlans-with-nic-teaming-in-a-vm"></a>VM에서 NIC 팀과 함께 Vlan 사용  
팀에서 Hyper-v 가상 스위치에 연결 하는 경우 모든 VLAN 분리은 NIC 팀이 아닌 Hyper-v 가상 스위치에서 수행 해야 합니다.  

NIC 팀으로 구성 된 VM에서 다음 지침을 사용 하 여 Vlan을 사용 하도록 계획 합니다.
  
-   VM에서 여러 Vlan을 지 원하는 기본 방법은 Hyper-v 가상 스위치의 포트를 여러 개 사용 하 여 VM을 구성 하 고 각 포트를 VLAN과 연결 하는 것입니다. 이러한 포트는 네트워크 통신 문제를 야기 하므로 VM에서 팀으로 설정 하지 마십시오.  

-   VM에 여러 개의 SR-IOV (가상 함수)가 있는 경우 VM에 팀을 구성 하기 전에 동일한 VLAN에 있는지 확인 합니다. 다른 모든 VFs를 서로 다른 Vlan에 있도록 구성 하는 것이 가능 하며, 이렇게 하면 네트워크 통신 문제가 발생 합니다.  
 
  
### <a name="manage-network-interfaces-and-vlans"></a>네트워크 인터페이스 및 Vlan 관리 
게스트 운영 체제에 노출 된 VLAN이 둘 이상 있어야 하는 경우 이더넷 인터페이스의 이름을 바꿔 인터페이스에 할당 된 VLAN을 명확히 하는 것이 좋습니다. 예를 들어, **이더넷** 인터페이스를 vlan 12로 연결 하 고 **이더넷 2** 인터페이스를 vlan 48과 연결 하는 경우 인터페이스 이더넷의 이름을 **EthernetVLAN12** 으로, 다른는 **EthernetVLAN48**로 바꿉니다. 

Windows PowerShell 명령 **get-netadapter** 를 사용 하거나 다음 절차를 수행 하 여 인터페이스의 이름을 바꿉니다.
  
1.  서버 관리자에서 이름을 바꿀 네트워크 어댑터의 **속성** 에서 네트워크 어댑터 이름 오른쪽에 있는 링크를 클릭 합니다. 
  
2.  이름을 바꿀 네트워크 어댑터를 마우스 오른쪽 단추로 클릭 하 고 **이름 바꾸기**를 선택 합니다.  
  
3.  네트워크 어댑터의 새 이름을 입력 하 고 enter 키를 누릅니다.  


## <a name="virtual-machines-vms"></a>Vm (Virtual Machines)

VM에서 NIC 팀을 사용 하려는 경우 VM의 가상 네트워크 어댑터를 외부 Hyper-v 가상 스위치에만 연결 해야 합니다. 이렇게 하면 한 가상 스위치에 연결 된 실제 네트워크 어댑터 중 하나가 실패 하거나 연결이 끊어지는 경우에도 VM에서 네트워크 연결을 유지할 수 있습니다. 내부 또는 개인 Hyper-v 가상 스위치에 연결 된 가상 네트워크 어댑터는 팀에 있을 때 스위치에 연결할 수 없으며, VM에 대 한 네트워킹이 실패 합니다.  
  
Windows Server 2016의 NIC 팀은 Vm에 두 개의 구성원이 있는 팀을 지원 합니다. 규모가 큰 팀은 만들 수 있지만 대규모 팀은 지원 하지 않습니다. 모든 팀 멤버는 다른 외부 Hyper-v 가상 스위치에 연결 해야 하며, 팀을 허용 하도록 VM의 네트워킹 인터페이스를 구성 해야 합니다.

  
VM에서 NIC 팀을 구성 하는 경우 _스위치 독립적인 스위치_ 와 _주소 해시_의 **부하 분산 모드** 의 **팀 모드** 를 선택 해야 합니다.   
  
  
## <a name="sr-iov-capable-network-adapters"></a>SR-IOV 가능 네트워크 어댑터  
Hyper-v 호스트의 NIC 팀은 Hyper-v 스위치를 통과 하지 않으므로 SR-IOV 트래픽을 보호할 수 없습니다.  VM NIC 팀 구성 옵션을 두 개의 외부 Hyper-v 가상 스위치를 구성할 수 있습니다, 각각 SR IOV 지원 NIC에 연결 된  
  
![NIC SR IOV 가능 네트워크 어댑터 팀](../../media/NIC-Teaming-in-Virtual-Machines--VMs-/nict_in_vm.jpg)  
  
각 VM은 하나 또는 두 개의 SR-IOV Nic에서 가상 함수 (VF)를 포함할 수 있으며, NIC 연결 끊기의 경우 기본 VF에서 백업 어댑터 (VF)로 장애 조치 (failover)를 수행할 수 있습니다. 또는 VM에는 다른 가상 스위치에 연결 된 NIC 및 비 VF vmNIC 하나에서 VF 있을 수 있습니다. VF와 관련 된 NIC의 연결이 끊어지거나, 트래픽이 다른 스위치로 연결의 손실 없이 장애 조치 수 있습니다.  
  
VM의 Nic 간 장애 조치 (failover)로 인해 트래픽이 다른 vmNIC의 MAC 주소로 전송 될 수 있으므로 NIC 팀을 사용 하는 VM과 연결 된 각 Hyper-v 가상 스위치 포트는 팀 허용으로 설정 되어야 합니다. 


## <a name="related-topics"></a>관련 항목

- [Nic 팀 MAC 주소 사용 및 관리](NIC-Teaming-MAC-Address-Use-and-Management.md): 스위치 독립 모드를 사용 하 여 nic 팀을 구성 하 고 주소 해시 또는 동적 부하 분산을 사용 하는 경우 팀에서 아웃 바운드 트래픽에 대 한 기본 nic 팀 구성원의 MAC (미디어 액세스 제어) 주소를 사용 합니다. 기본 NIC 팀 구성원은 초기 팀 구성원 집합에서 운영 체제에 의해 선택 된 네트워크 어댑터입니다.

- [Nic 팀 설정](nic-teaming-settings.md):이 항목에서는 팀 및 부하 분산 모드와 같은 NIC 팀 속성에 대 한 개요를 제공 합니다. 또한 대기 어댑터 설정 및 주 팀 인터페이스 속성에 대 한 세부 정보도 제공 합니다. NIC 팀에 네트워크 어댑터가 두 개 이상 있는 경우 내결함성을 위해 대기 어댑터를 지정할 필요가 없습니다.
  
- [호스트 컴퓨터 또는 vm에서 새 Nic 팀 만들기](Create-a-New-NIC-Team-on-a-Host-Computer-or-VM.md):이 항목에서는 Windows Server 2016를 실행 하는 hyper-v VM (가상 컴퓨터) 또는 호스트 컴퓨터에 새 nic 팀을 만듭니다.

- [Nic 팀 문제 해결](Troubleshooting-NIC-Teaming.md):이 항목에서는 Windows PowerShell을 사용 하 여 네트워크 어댑터를 사용 하지 않거나 사용 하지 않도록 설정 하거나 하드웨어와 같은 nic 팀 문제를 해결 하는 방법에 대해 설명 합니다. 
 
