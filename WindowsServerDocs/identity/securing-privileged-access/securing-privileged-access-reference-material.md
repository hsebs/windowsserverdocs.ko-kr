---
title: 권한 있는 액세스 보안 참조 자료
description: Windows Server Active Directory 도메인을 위한 운영 보안 제어
ms.prod: windows-server
ms.topic: article
ms.assetid: 22ee9a77-4872-4c54-82d9-98fc73a378c0
ms.date: 02/14/2019
ms.author: joflore
author: MicrosoftGuyJFlo
manager: daveba
ms.reviewer: mas
ms.openlocfilehash: 00335fb2ca7a54031430c6c606fb6ffa23a8f7a2
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80855136"
---
# <a name="active-directory-administrative-tier-model"></a>Active Directory 관리 계층 모델

>적용 대상: Windows Server

이 계층 모델의 목적은 환경(계층 0)에 대한 모든 권한과 공격자가 자주 손상시킬 위험이 높은 워크스테이션 자산 간의 버퍼 영역 집합을 사용하여 ID 시스템을 보호하는 것입니다.

![계층 모델의 세 가지 계층을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig1.JPG)

계층 모델은 세 가지 수준으로 구성되며 관리 계정만 포함하고 표준 사용자 계정은 포함하지 않습니다.

- **계층 0** - 환경 내 엔터프라이즈 ID를 직접 제어합니다. 계층 0에는 Active Directory 포리스트, 도메인 또는 도메인 컨트롤러와 그 속의 모든 자산에 대한 직접 또는 간접 관리 권한을 가진 계정, 그룹 및 기타 자산이 포함됩니다. 모든 계층 0 자산은 서로를 효과적으로 제어하므로 보안 민감도가 동일합니다.
- **계층 1** - 엔터프라이즈 서버 및 애플리케이션을 제어합니다. 계층 1 자산에는 서버 운영 체제, 클라우드 서비스 및 엔터프라이즈 애플리케이션이 포함됩니다. 계층 1 관리자 계정은 이러한 자산에서 호스트되는 상당한 양의 비즈니스 가치에 대한 관리 권한이 있습니다. 일반적인 역할 예로는 모든 엔터프라이즈 서비스에 영향을 줄 수 있는 기능으로 이러한 운영 체제를 유지 관리하는 서버 관리자가 있습니다.
- **계층 2** - 사용자 워크스테이션 및 디바이스를 제어합니다. 계층 2 관리자 계정은 사용자 워크스테이션 및 디바이스에서 호스트되는 상당한 양의 비즈니스 가치에 대한 관리 권한이 있습니다. 예를 들어 지원 센터 및 컴퓨터 지원 관리자가 여기에 포함됩니다. 이들은 거의 모든 사용자 데이터의 무결성에 영향을 줄 수 있기 때문입니다.

> [!NOTE]
> 또한 이 계층은 관리 자산을 보호하기 위한 기본 우선 순위 지정 메커니즘의 역할도 합니다. 그러나 모든 계층의 모든 자산을 제어하는 공격자는 대부분 또는 모든 비즈니스 자산에 액세스할 수 있다는 점을 고려해야 합니다. 기본 우선 순위 지정 메커니즘으로 유용한 이유는 공격자 난이도/비용입니다. 공격자는 조직의 데이터를 가져오기 위해 개별 워크스테이션 또는 사용자 디바이스(계층 2)에 액세스해야 하는 경우보다 모든 ID(계층 0) 또는 서버 및 클라우드 서비스(계층 1)에 대한 모든 권한으로 작업하는 것이 더 쉽습니다.

## <a name="containment-and-security-zones"></a>제약 및 보안 영역

계층은 특정 보안 영역에 상대적입니다. 그 동안 많은 이름이 사용되었지만 보안 영역은 네트워크 계층 격리를 통해 보안 위협의 제약을 제공하는 잘 정립된 방법입니다. 계층 모델은 네트워크 격리가 효과적이지 않은 보안 영역 내에서 악의적 사용자 제약을 제공하여 격리를 보완합니다. 도메인 컨트롤러 및 동일한 도메인의 도메인 구성원이 온-프레미스와 Azure에서 호스트되는 예와 같이 보안 영역은 온-프레미스와 클라우드 인프라 둘 다에 걸쳐 있을 수 있습니다.

![보안 영역이 온-프레미스 및 클라우드 인프라에 어떻게 걸쳐 있을 수 있는지 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig2.JPG)

계층 모델은 관리자가 제어할 수 있는 대상 및 로그온할 수 있는 위치(컴퓨터에 로그온하면 해당 자격 증명과 이를 통해 관리되는 모든 자산에 대한 권한이 부여되기 때문)를 제한하여 권한 상승을 방지합니다.

### <a name="control-restrictions"></a>제어 제한

제어 제한은 아래 그림에 나와 있습니다.

![제어 제한 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig3.JPG)

### <a name="primary-responsibilities-and-critical-restrictions"></a>기본 책임 및 중요한 제한 사항

**계층 0 관리자** - ID 저장소 및 이를 효과적으로 제어하는 소수의 시스템을 관리합니다.

- 필요에 따라 모든 수준의 자산을 관리하고 제어할 수 있습니다.
- 계층 0 수준에서 신뢰할 수 있는 자산에만 액세스하거나 대화형으로 로그온할 수 있습니다.

**계층 1 관리자** - 엔터프라이즈 서버, 서비스 및 애플리케이션을 관리합니다.

- 계층 1 또는 계층 2 수준의 자산만 관리하고 제어할 수 있습니다.
- 계층 1 또는 0 계층 수준에서 신뢰할 수 있는 자산에만 액세스(네트워크 로그온 유형을 통해)할 수 있습니다.
- 계층 1 수준에서 신뢰할 수 있는 자산에만 대화형으로 로그온할 수 있습니다.

**계층 2 관리자** - 엔터프라이즈 데스크톱, 랩톱, 프린터 및 기타 사용자 디바이스를 관리합니다.

- 계층 2 수준의 자산만 관리하고 제어할 수 있습니다.
- 필요에 따라 모든 수준의 자산에 액세스(네트워크 로그온 유형을 통해)할 수 있습니다.
- 계층 2 수준에서 신뢰할 수 있는 자산에만 대화형으로 로그온할 수 있습니다.

### <a name="logon-restrictions"></a>로그온 제한

로그온 제한은 아래 그림에 나와 있습니다.

![로그온 제한 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig4.JPG)

> [!NOTE]
> 일부 자산은 환경의 가용성에 계층 0 영향을 미칠 수 있지만 자산의 기밀성과 무결성에는 직접적인 영향이 없습니다. 여기에는 DNS 서버 서비스 및 중요한 네트워크 디바이스(예: 인터넷 프록시)가 포함됩니다.

## <a name="clean-source-principle"></a>클린 소스 원칙

클린 소스 원칙에서는 모든 보안 종속성이 보안 개체와 같이 신뢰할 수 있어야 합니다.

![개체를 제어하는 주체는 해당 개체의 보안 종속성임을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig5.JPG)

개체를 제어하는 주체는 해당 개체의 보안 종속성입니다. 악의적인 사용자가 대상 개체를 효과적으로 제어하는 항목을 제어할 수 있는 경우 해당 대상 개체를 제어할 수 있습니다. 이 때문에 모든 보안 종속성에 대한 보증이 개체 자체의 바람직한 보안 수준 이상인지 확인해야 합니다.

원칙적으로 간단하지만 이를 적용하려면 관심 있는 자산(개체)의 제어 관계를 이해하고 종속성 분석을 수행하여 모든 보안 종속성(주체)을 검색해야 합니다.

제어는 전이적이기 때문에 이 원칙은 재귀적으로 반복되어야 합니다. 예를 들어 A가 B를 제어하고 B가 C를 제어하는 경우 A는 C를 간접적으로 제어합니다.

![A가 B를 제어하고 B가 C를 제어하는 경우 A는 C를 간접적으로 제어함을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig6.JPG)

A를 손상시키는 공격자는 A가 제어하는 모든 대상(B 포함)과 B가 제어하는 모든 대상(C 포함)에 액세스할 수 있습니다. 이 동일한 예에서 보안 종속성 언어를 사용하면, B와 A 둘 다 C의 보안 종속성이므로 C가 바람직한 보증 수준을 유지하려면 C의 보증 수준에서 보안이 유지되어야 합니다.

IT 인프라 및 ID 시스템의 경우 시스템이 설치된 하드웨어, 시스템의 설치 미디어, 시스템의 아키텍처 및 구성, 일상적인 작업 등 가장 일반적인 제어 수단에 이 원칙을 적용해야 합니다.

## <a name="clean-source-for-installation-media"></a>설치 미디어의 클린 소스

![설치 미디어의 클린 소스를 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_CSIM.JPG)

설치 미디어는 제조업체에서 출시하므로 설치 미디어에 클린 소스 원칙을 적용하려면 가능한 최대한의 범위에서 설치 미디어가 변조되지 않았는지 확인해야 합니다. 다음 그림은 이 경로를 사용하여 컴퓨터를 손상시키는 공격자를 보여 줍니다.

![경로를 사용하여 컴퓨터를 손상시키는 공격자를 보여 주는 그림](../media/securing-privileged-access-reference-material/PAW_RM_Fig8.JPG)

설치 미디어에 클린 소스 원칙을 적용하려면 취득, 스토리지 및 전송을 포함하여 사용될 때까지 보유하고 있는 전체 주기에서 소프트웨어 무결성을 확인해야 합니다.

### <a name="software-acquisition"></a>소프트웨어 취득

다음 방법 중 하나를 통해 소프트웨어의 원본에 대한 유효성을 검사해야 합니다.

- 제조업체 또는 신뢰할 수 있는 출처에서 제공되는 것으로 알려진 실제 미디어, 즉 일반적으로 공급업체에서 배송하는 제조된 미디어에서 소프트웨어를 가져옵니다.
- 소프트웨어를 인터넷에서 구매하고 공급업체가 제공한 파일 해시로 유효성을 검사합니다.
- 소프트웨어를 인터넷에서 구매하고 독립된 복사본 두 개를 다운로드 및 비교하여 유효성을 검사합니다.
   - 가능한 경우 별도의 인터넷 연결을 통해 보안 관계가 없는(동일한 도메인에 있지 않고 동일한 도구로 관리되지 않는) 두 개의 호스트에 다운로드합니다.
   - certutil과 같은 유틸리티를 사용하여 다운로드한 파일을 비교합니다. `certutil -hashfile <filename>`

가능한 경우 애플리케이션 설치 관리자 및 도구와 같은 모든 애플리케이션 소프트웨어는 디지털로 서명되어야 하며, 해지 확인과 함께 [Windows Sysinternals](https://www.microsoft.com/sysinternals) 도구인 *sigcheck.exe*를 통해 Windows Authenticode를 사용하여 확인해야 합니다. 공급업체에서 이러한 종류의 디지털 서명을 제공하지 않는 경우 일부 소프트웨어가 필요할 수 있습니다.

### <a name="software-storage-and-transfer"></a>소프트웨어 스토리지 및 전송

소프트웨어를 가져온 후에는 수정(특히 소프트웨어 또는 운영 체제를 설치할 시스템보다 낮은 수준에서 신뢰할 수 있는 직원 또는 인터넷 연결 호스트에 의한 수정)으로부터 보호되는 위치에 저장해야 합니다. 이 스토리지는 실제 미디어 또는 보안 전자 위치일 수 있습니다.

### <a name="software-usage"></a>소프트웨어 사용

이상적으로는 사용될 때(예: 수동으로 설치할 때, 구성 관리 도구용으로 패키지될 때 또는 구성 관리 도구로 가져올 때) 소프트웨어 유효성을 검사해야 합니다.

## <a name="clean-source-for-architecture-and-design"></a>아키텍처 및 디자인에 대한 클린 소스

시스템 아키텍처에 클린 소스 원칙을 적용하려면 시스템이 하위 신뢰 시스템에 종속되어 있지 않은지 확인해야 합니다. 시스템은 상위 신뢰 시스템에 종속될 수 있지만 보안 표준이 낮은 하위 신뢰 시스템에는 종속될 수 없습니다.

예를 들어 Active Directory가 표준 사용자 데스크톱을 제어할 수 있지만 Active Directory에서 제어할 표준 사용자 데스크톱에 상당한 권한 상승 위험이 있습니다.

![시스템은 상위 신뢰 시스템에 종속될 수 있지만 보안 표준이 낮은 하위 신뢰 시스템에는 종속될 수 없음을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig09.JPG)

파일 시스템과 같은 개체의 보안 ACL(액세스 제어 목록), 컴퓨터의 로컬 관리자 그룹 내 구성원 자격 또는 시스템을 실행하는 컴퓨터에 설치된 에이전트(임의 코드 및 스크립트 실행 기능 사용) 등 여러 방식을 통해 제어 관계를 도입할 수 있습니다.

자주 간과되는 예로, 로그온을 통한 노출이 있습니다. 이는 시스템의 관리 자격 증명을 다른 시스템에 노출하여 제어 관계를 생성합니다. 이는 패스 더 해시와 같은 자격 증명 도난 공격이 강력한 기본 이유입니다. 관리자가 계층 0 자격 증명으로 표준 사용자 데스크톱에 로그인할 경우 자격 증명이 해당 데스크톱에 누출되고 AD를 제어할 수 있게 되며 AD로의 권한 상승 경로가 생성됩니다. 이러한 공격에 대한 자세한 내용은 [이 페이지](https://technet.microsoft.com/security/dn785092)를 참조하세요.

Active Directory와 같은 ID 시스템에 종속된 자산이 많기 때문에 Active Directory 및 도메인 컨트롤러가 종속된 시스템 수를 최소화해야 합니다.

![Active Directory 및 도메인 컨트롤러가 종속된 시스템 수를 최소화해야 함을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig010.JPG)

Active Directory의 주요 위험 강화에 대한 자세한 내용은 [이 페이지](https://aka.ms/hardenAD)를 참조하세요.

## <a name="operational-standards-based-on-clean-source-principle"></a>클린 소스 원칙을 기반으로 하는 운영 표준

이 섹션에서는 운영 표준과 관리 직원에 대한 기대를 설명합니다. 이러한 표준은 운영 방식 및 프로세스에 의해 생성될 수 있는 위험으로부터 조직의 정보 기술 시스템에 대한 관리 제어를 보호하기 위해 마련되었습니다.

![표준은 운영 방식 및 프로세스에 의해 생성될 수 있는 위험으로부터 조직의 정보 기술 시스템에 대한 관리 제어를 보호하기 위해 마련되었음을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig11.JPG)

### <a name="integrating-the-standards"></a>표준 통합

조직의 전체 표준 및 방식에 이러한 표준을 통합할 수 있습니다. 특정 요구 사항, 사용 가능한 도구 및 사용자 조직의 위험 성향에 맞게 채택할 수 있지만 위험을 줄이기 위해 수정을 최소화하는 것이 좋습니다. 이 가이드의 기본값을 이상적인 최종 상태를 위한 벤치마크로 사용하고 모든 차이점을 우선 순위에 따라 처리할 예외로 관리하는 것이 좋습니다.

표준 가이드는 다음 섹션으로 구성되어 있습니다.

- 가정
- 변경 자문 위원회
- 운영 방식
   - 요약
   - 표준 정보

### <a name="assumptions"></a>가정

이 섹션의 표준에서는 조직에 다음 특성이 있다고 가정합니다.

- 범위의 서버와 워크스테이션이 대부분 또는 모두 Active Directory에 가입되어 있습니다.
- 관리할 모든 서버가 Windows Server 2008 R2 이상을 실행하고 RDP RestrictedAdmin 모드를 사용하도록 설정되어 있습니다.
- 관리할 모든 워크스테이션이 Windows 7 이상을 실행하고 RDP RestrictedAdmin 모드를 사용하도록 설정되어 있습니다.

   > [!NOTE]
   > RDP RestrictedAdmin 모드를 사용하도록 설정하려면 [이 페이지](https://aka.ms/RDPRA)를 참조하세요.

- 스마트 카드를 사용할 수 있으며 모든 관리 계정에 발급되어 있습니다.
- 각 도메인에 대한 *Builtin\Administrator*가 응급 액세스 계정으로 지정되어 있습니다.
- 엔터프라이즈 ID 관리 솔루션이 배포되어 있습니다.
- 로컬 관리자 계정 암호를 관리할 서버 및 워크스테이션 [LAPS](https://aka.ms/laps)가 배포되어 있습니다.
- Microsoft Identity Manager와 같은 권한 있는 액세스 관리 솔루션이 있거나 도입할 계획이 있습니다.
- 보안 경고를 모니터링하고 응답할 직원이 할당되어 있습니다.
- Microsoft 보안 업데이트를 신속하게 적용할 수 있는 기술을 사용할 수 있습니다.
- 서버의 베이스보드 관리 컨트롤러가 사용되지 않거나 엄격한 보안 제어를 준수합니다.
- 서버(계층 1 관리자) 및 워크스테이션(계층 2 관리자)의 관리자 계정 및 그룹이 도메인 관리자(계층 0)에 의해 관리됩니다.
- Active Directory 변경 내용을 승인할 CAB(변경 자문 위원회) 또는 지정된 다른 기관이 있습니다.

### <a name="change-advisory-board"></a>변경 자문 위원회

CAB(변경 자문 위원회)는 조직의 보안 프로필에 영향을 줄 수 있는 변경 내용에 대한 토론 포럼 및 승인 기관입니다. 이러한 표준에 대한 모든 예외는 위험 평가 및 근거와 함께 CAB에 제출해야 합니다.

이 문서의 각 표준은 지정된 계층 모델에 대한 표준 충족의 중요성에 따라 분류되어 있습니다.

![지정된 계층 수준에 대한 표준을 보여 주는 다이어그램](../media/securing-privileged-access-reference-material/PAW_RM_Fig12.JPG)

필수 항목(이 문서에서 빨간색 팔각형 또는 주황색 삼각형으로 표시)에 대한 모든 예외는 일시적인 것으로 간주되며 CAB의 승인을 받아야 합니다. 지침은 다음과 같습니다.

- 초기 요청은 직원의 직속 상관이 서명한 근거 및 위험 허용이 필요하며 6개월 후에 만료됩니다.
- 갱신은 사업부 부서장이 서명한 근거 및 위험 허용이 필요하며 6개월 후에 만료됩니다.

권장 항목(이 문서에서 노란색 원으로 표시)에 대한 모든 예외는 일시적인 것으로 간주되며 CAB의 승인을 받아야 합니다. 지침은 다음과 같습니다.

- 초기 요청은 직원의 직속 상관이 서명한 근거 및 위험 허용이 필요하며 12개월 후에 만료됩니다.
- 갱신은 사업부 부서장이 서명한 근거 및 위험 허용이 필요하며 12개월 후에 만료됩니다.

### <a name="operational-practices-standards-summary"></a>운영 방식 표준 요약

다음 표의 계층 열은 일반적으로 해당 계층의 모든 자산에 영향을 주는 항목을 관리하는 관리 계정의 계층 수준을 나타냅니다.

![관리 계정의 계층 수준을 보여 주는 표](../media/securing-privileged-access-reference-material/PAW_RM_Fig13.JPG)

운영 의사 결정은 정기적으로 이루어지며 환경의 보안 상태를 유지 관리하는 데 중요합니다. 프로세스 및 방식에 대한 이러한 표준은 운영 오류가 환경 내 악용 가능한 운영 취약성으로 이어지지 않도록 도와줍니다.

#### <a name="administrator-enablement-and-accountability"></a>관리자가 사용 및 책임

관리자는 알림, 권한 및 교육이 제공되며 가능한 한 안전하게 환경을 운영할 책임이 잇습니다.

##### <a name="administrative-personnel-standards"></a>관리 직원 표준

할당된 관리 직원은 신뢰할 수 있으며 관리 권한이 필요한지 확인해야 합니다.

- 관리 권한을 할당하기 전에 직원의 배경을 확인해야 합니다.
- 분기별로 관리 권한을 검토하여 직원에게 여전히 관리 액세스에 대한 적법한 비즈니스 요구가 있는지 확인해야 합니다.

##### <a name="administrative-security-briefing-and-accountability"></a>관리 보안 브리핑 및 책임

관리자는 조직의 위험에 대한 알림을 받고 이러한 위험을 관리하는 역할을 맡아야 합니다. 관리자에 매년 다음에 대한 교육을 받아야 합니다.

- 일반적인 위협 환경
   - 확인된 악의적 사용자
   - 패스 더 해시 및 자격 증명 도난을 비롯한 공격 기술
- 조직과 관련된 위협 및 사건
- 공격으로부터 보호하는 데 대한 관리자의 역할
   - 계층 모델을 사용한 자격 증명 노출 관리
   - 관리 워크스테이션 사용
   - 원격 데스크톱 프로토콜 RestrictedAdmin 모드 사용
- 조직과 관련된 관리 방식
   - 이 표준의 모든 운영 지침 검토
   - 다음과 같은 주요 규칙을 구현합니다.
      - 관리 워크스테이션 이외에는 관리 계정을 사용하지 않습니다.
      - 계정 또는 워크스테이션에 대한 보안 제어(예: 로그온 제한 또는 스마트 카드에 필요한 특성)를 사용하지 않도록 설정하거나 폐지하지 않아야 합니다.
      - 문제 또는 비정상적인 활동 보고

책임감을 제공하기 위해 관리 계정을 가진 모든 직원은 조직과 관련된 관리 정책 방식을 준수할 것임을 나타내는 관리 권한 행동 강령 문서에 서명해야 합니다.

##### <a name="provisioning-and-deprovisioning-processes-for-administrative-accounts"></a>관리 계정에 대한 프로비전 및 프로비전 해제 프로세스

수명 주기 요구 사항을 충족하려면 다음 표준을 준수해야 합니다.

- 모든 관리 계정은 다음 표에 설명된 승인 기관의 승인을 받아야 합니다.
   - 승인은 직원에게 관리 권한에 대한 적법한 비즈니스 요구가 있는 경우에만 부여되어야 합니다.
   - 관리 권한에 대한 승인은 6개월을 초과해서는 안 됩니다.
- 다음과 같은 경우 관리 권한에 대한 액세스를 즉시 프로비전 해제해야 합니다.
   - 직원의 직책이 바뀐 경우
   - 직원이 조직을 퇴사한 경우
- 직원이 퇴사한 후에는 계정을 즉시 사용하지 않도록 설정해야 합니다.
- 사용하지 않도록 설정된 계정은 6개월 이내에 삭제해야 하며, 해당 삭제 기록을 변경 승인 위원회 기록에 입력해야 합니다.
- 모든 권한 있는 계정 구성원 자격을 매월 검토하여 무단으로 부여된 권한이 없는지 확인합니다. 변경 내용을 알리는 자동화된 도구로 이를 대체할 수 있습니다.

|계정 권한 수준|승인 기관|구성원 자격 검토 빈도|
|--------------|------------|----------------|
|계층 0 관리자|변경 승인 위원회|월별 또는 자동|
|계층 1 관리자|계층 0 관리자 또는 보안|월별 또는 자동|
|계층 2 관리자|계층 0 관리자 또는 보안|월별 또는 자동|

#### <a name="operationalize-least-privilege"></a>최소 권한 운영

다음 표준은 역할의 관리자 수와 이들의 권한 보유 기간을 줄여 최소 권한을 달성하도록 도와줍니다.

> [!NOTE]
> 조직에서 최소 권한을 달성하려면 조직의 역할, 이들의 요구 사항 및 이들의 디자인 메커니즘을 이해하여 이러한 역할이 최소 권한으로 작업을 수행할 수 있도록 해야 합니다. 관리 모델에서 최소 권한 상태에 도달하려면 종종 여러 접근 방식을 사용해야 합니다.
>
> - 권한 있는 그룹의 관리자 또는 구성원 수 제한
> - 계정에 보다 적은 권한 위임
> - 요청 시 시간 제한이 있는 권한 제공
> - 다른 직원에게 작업을 수행할 수 있는 권한 제공(컨시어지 접근 방식)
> - 응급 액세스 및 사용이 드문 시나리오에 대한 프로세스 제공

##### <a name="limit-count-of-administrators"></a>관리자 수 제한

비즈니스 지속성을 위해 최소 두 명의 자격 있는 직원이 각 관리 역할에 할당되어야 합니다.

역할에 할당된 직원 수가 두 명을 초과하는 경우 변경 승인 위원회는 각 개별 구성원(원래의 두 명 포함)에게 권한을 할당한 구체적인 이유를 승인해야 합니다. 승인에 대한 근거에는 다음이 포함되어야 합니다.

- 관리 권한이 필요한 관리자가 수행하는 기술 작업
- 작업을 수행하는 빈도
- 다른 관리자가 이들을 대신해 작업을 수행할 수 없는 구체적인 이유
- 권한을 부여하는 다른 모든 알려진 대체 방식 및 각 방식이 허용되지 않는 이유

##### <a name="dynamically-assign-privileges"></a>동적으로 권한 할당

관리자는 작업을 수행할 때 "적시의" 권한을 얻어 사용해야 합니다. 관리 계정에 영구적으로 할당되는 권한은 없습니다.

> [!NOTE]
> 관리 직원은 문제가 있는 경우 운영 가용성을 유지하기 위해 권한에 신속하게 액세스해야 하므로 영구적으로 할당된 관리 권한은 자연스럽게 "최대 권한" 전략을 만듭니다. 적시의 권한은 다음과 같은 이점을 제공합니다.
>
> - 최소 권한에 다가가면서 점진적으로 권한 할당
> - 권한 노출 시간 단축
> - 남용 또는 공격을 감지하기 위해 추적 권한 사용

#### <a name="manage-risk-of-credential-exposure"></a>자격 증명 노출 위험 관리

다음 방식을 사용하여 자격 증명 노출 위험을 적절히 관리할 수 있습니다.

##### <a name="separate-administrative-accounts"></a>별도의 관리 계정

관리 권한을 소유하도록 허가된 모든 직원은 사용자 계정과 다른 별도의 관리 업무용 계정이 있어야 합니다.

- **표준 사용자 계정** - 전자 메일, 웹 검색 및 LOB(기간 업무) 애플리케이션과 같은 표준 사용자 작업에 대해 부여되는 표준 사용자 권한입니다. 이러한 계정에는 관리 권한이 부여되지 않습니다.
- **관리 계정** - 적절한 관리 권한이 할당된 직원을 위해 생성되는 별도의 계정입니다. 각 계층의 자산을 관리해야 하는 관리자는 각 계층에 대한 별도의 계정이 있어야 합니다. 이러한 계정은 전자 메일 또는 공용 인터넷에 액세스할 수 없습니다.

##### <a name="administrator-logon-practices"></a>관리자 로그온 방식

관리자가 호스트에 대화형으로(표준 RDP를 통해 로컬로, RunAs 사용 또는 가상화 콘솔 사용) 로그온하려면 해당 호스트가 관리자 계정 계층(또는 그 상위 계층)에 대한 표준을 준수하거나 초과해야 합니다.

관리자는 자신의 관리 계정으로만 관리 워크스테이션에 로그인할 수 있습니다. 관리자는 다음 섹션에 설명된 승인된 지원 기술을 사용하여 관리되는 리소스에 로그온해야 합니다.

> [!NOTE]
> 대화형으로 호스트에 로그온하면 해당 호스트의 자격 증명에 대한 제어 권한이 부여되기 때문입니다.
>
> 로그온 유형, 일반 관리 도구 및 자격 증명 노출에 대한 자세한 내용은 [관리 도구 및 로그온 유형](https://aka.ms/admintoolsecurity)을 참조하세요.

##### <a name="use-of-approved-support-technology-and-methods"></a>승인된 지원 기술 및 방법 사용

원격 시스템 및 사용자를 지원하는 관리자는 원격 컴퓨터를 제어하는 악의적 사용자가 관리 자격 증명을 도용하는 것을 방지하기 위해 다음 지침을 따라야 합니다.

- 사용 가능한 경우 기본 지원 옵션을 사용해야 합니다.
- 보조 지원 옵션은 기본 지원 옵션을 사용할 수 없는 경우에만 사용해야 합니다.
- 금지된 지원 방법을 사용해서는 안 됩니다.
- 관리 계정에서는 인터넷 검색 또는 전자 메일 액세스를 수행할 수 없습니다.

###### <a name="tier-0-forest-domain-and-dc-administration"></a>계층 0 포리스트, 도메인 및 DC 관리

이 시나리오에는 다음 방식을 적용해야 합니다.

- **원격 서버 지원** - 서버에 원격으로 액세스할 때 계층 0 관리자는 다음 지침을 따라야 합니다.
  - **기본(도구)** - 네트워크 로그온(유형 3)을 사용하는 원격 도구입니다. 자세한 내용은 [관리 도구 및 로그온 유형](https://aka.ms/admintoolsecurity)을 참조하세요.
  - **기본(대화형)** - 관리 워크스테이션에서 도메인 계정으로 RDP RestrictedAdmin 또는 표준 RDP 세션을 사용합니다.

    > [!NOTE]
    > 계층 0 권한 관리 솔루션을 사용하는 경우 추가 "권한 있는 액세스 관리 솔루션에서 적시에 얻은 권한 사용"을 추가합니다.

- **물리적 서버 지원** - 서버 콘솔 또는 가상 머신 콘솔(Hyper-V 또는 VMWare 도구)에 실제로 존재하는 경우 이러한 계정에는 특정 관리 도구 사용 제한이 없으며 표준 사용자 작업(예: 메일 및 열려 있는 인터넷 검색)의 일반적인 제한만 있습니다.

   > [!NOTE]
   > 모든 계층 0 자산에는 이미 모든 자산에 대한 직접 또는 간접적인 제어 권한이 있기 때문에 계층 0 관리는 다른 계층의 관리와 다릅니다. 예를 들어 DC를 제어하는 공격자는 이미 데이터베이스의 모든 도메인 자격 증명에 액세스할 수 있으므로 로그온된 관리자로부터 자격 증명을 도용할 필요가 없습니다.

###### <a name="tier-1-server-and-enterprise-application-support"></a>계층 1 서버 및 엔터프라이즈 애플리케이션 지원

이 시나리오에는 다음 방식을 적용해야 합니다.

- **원격 서버 지원** - 서버에 원격으로 액세스할 때 계층 1 관리자는 다음 지침을 따라야 합니다.
   - **기본(도구)** - 네트워크 로그온(유형 3)을 사용하는 원격 도구입니다. 자세한 내용은 [패스 더 해시 및 기타 자격 증명 도난 완화](https://www.microsoft.com/pth) v1(42~47페이지)을 참조하세요.
   - **기본(대화형)** - 권한 있는 액세스 관리 솔루션에서 적시에 얻은 권한을 사용하는 도메인 계정으로 관리 워크스테이션에서 RDP RestrictedAdmin을 사용합니다.
   - **보조** - 관리 워크스테이션에서 LAPS에 의해 설정된 로컬 계정 암호를 사용하여 서버에 로그온합니다.
   - **사용할 수 없음** - 도메인 계정으로 표준 RDP를 사용할 수 없습니다.
   - **사용할 수 없음** - 세션에 있는 동안 도메인 계정 자격 증명을 사용합니다(예: *RunAs*를 사용하거나 공유 인증). 이는 로그온 자격 증명을 도난 위험에 노출시킵니다.
- **물리적 서버 지원** - 서버 콘솔 또는 가상 머신 콘솔(Hyper-V 또는 VMWare 도구)에 실제로 존재하는 경우 계층 1 관리자는 서버에 액세스하기 전에 LAPS에서 로컬 계정 암호를 검색해야 합니다.
   - **기본** - 서버에 로그온하기 전에 관리 워크스테이션에서 LAPS에 의해 설정된 로컬 계정 암호를 검색합니다.
   - **사용할 수 없음** - 이 시나리오에서는 도메인 계정으로 로그온할 수 없습니다.
   - **사용할 수 없음** - 세션에 있는 동안 도메인 계정 자격 증명을 사용합니다(예: RunAs 또는 공유 인증). 이는 로그온 자격 증명을 도난 위험에 노출시킵니다.

###### <a name="tier-2-help-desk-and-user-support"></a>계층 2 지원 센터 및 사용자 지원

지원 센터 및 사용자 지원 조직은 최종 사용자에 대한 지원(관리 권한이 필요 없음) 및 사용자 워크스테이션에 대한 지원(관리 권한이 필요함)을 수행합니다.

**사용자 지원** - 워크스테이션을 수정할 필요가 없는 작업을 수행하는 사용자를 지원하며, 종종 애플리케이션 기능 또는 운영 체제 기능을 사용하는 방법을 보여 줍니다.

- **데스크 측 사용자 지원** - 계층 2 지원 담당자가 실제로 사용자의 작업 영역에 있습니다.
   - **기본** - 도구 없이 "자격 증명 입력" 지원을 제공할 수 있습니다.
   - **사용할 수 없음** - 이 시나리오에서는 도메인 계정 관리 자격 증명으로 로그온할 수 없습니다. 관리 권한이 필요한 경우 데스크 측 워크스테이션 지원으로 전환합니다.
- **원격 사용자 지원** - 계층 2 지원 담당자가 실제로 사용자에게 원격으로 연결됩니다.
   - **기본** - 원격 지원, 비즈니스용 Skype 또는 유사한 사용자 화면 공유를 사용할 수 있습니다. 자세한 내용은 [Windows 원격 지원이란?](https://windows.microsoft.com/windows/what-is-windows-remote-assistance)을 참조하세요.
   - **사용할 수 없음** - 이 시나리오에서는 도메인 계정 관리 자격 증명으로 로그온할 수 없습니다. 관리 권한이 필요한 경우 워크스테이션 지원으로 전환합니다.
- **워크스테이션 지원** - 워크스테이션 유지 관리를 수행하거나 로그 확인, 소프트웨어 설치, 드라이버 업데이트 등을 위해 시스템에 액세스해야 하는 문제 해결 작업을 수행합니다.
   - **데스크 측 워크스테이션 지원** - 계층 2 지원 담당자가 실제로 사용자의 워크스테이션에 있습니다.
      - **기본** - 사용자 워크스테이션에 연결하기 전에 관리 워크스테이션에서 LAPS에 의해 설정된 로컬 계정 암호를 검색합니다.
      - **사용할 수 없음** - 이 시나리오에서는 도메인 계정 관리 자격 증명으로 로그온할 수 없습니다.
   - **원격 워크스테이션 지원** - 계층 2 지원 담당자가 실제로 워크스테이션에 원격으로 연결됩니다.
      - **기본** - 권한 있는 액세스 관리 솔루션에서 적시에 얻은 권한을 사용하는 도메인 계정으로 관리 워크스테이션에서 RDP RestrictedAdmin을 사용합니다.
      - **보조** - 사용자 워크스테이션에 연결하기 전에 관리 워크스테이션에서 LAPS에 의해 설정된 로컬 계정 암호를 검색합니다.
      - **사용할 수 없음** - 도메인 계정으로 표준 RDP를 사용합니다.

###### <a name="no-browsing-the-public-internet-with-admin-accounts-or-from-admin-workstations"></a>관리자 계정 또는 관리 워크스테이션에서 공용 인터넷을 검색할 수 없음

관리 직원은 관리 계정으로 로그온되어 있거나 관리 워크스테이션에 로그온되어 있는 동안 열려 있는 인터넷을 검색할 수 없습니다. 허가된 유일한 예외는 클라우드 기반 서비스 관리를 위한 웹 브라우저 사용입니다.

###### <a name="no-accessing-email-with-admin-accounts-or-from-admin-workstations"></a>관리자 계정 또는 관리 워크스테이션에서 전자 메일에 액세스할 수 없음

관리 직원은 관리 계정으로 로그온되어 있거나 관리 워크스테이션에 로그온되어 있는 동안 전자 메일에 액세스할 수 없습니다.

###### <a name="store-service-and-application-account-passwords-in-a-secure-location"></a>서비스 및 애플리케이션 계정 암호를 안전한 위치에 저장

암호에 대한 액세스를 제어하는 물리적 보안 프로세스에는 다음 지침을 사용해야 합니다.

- 서비스 계정 암호를 물리적으로 안전하게 잠급니다.
- 계정의 계층 분류 이상에서 신뢰할 수 있는 직원만 계정 암호에 액세스할 수 있도록 합니다.
- 책임을 위해 암호에 액세스할 수 있는 사람 수를 최소한으로 제한합니다.
- IT 관리를 수행하는 데 숙련되지 않은 관리자와 같은 관련 없는 당사자로 하여금 암호에 대한 액세스를 기록, 추적 및 모니터링하도록 해야 합니다.

##### <a name="strong-authentication"></a>강력한 인증

다음 방식을 사용하여 강력한 인증을 적절히 구성할 수 있습니다.

###### <a name="enforce-smartcard-multi-factor-authentication-mfa-for-all-admin-accounts"></a>모든 관리자 계정에 스마트 카드 MFA(다단계 인증) 적용

관리 계정은 인증에 암호를 사용할 수 없습니다. 적절한 프로세스로 보호되는 응급 액세스 권한만 예외적으로 허용됩니다.

모든 관리 계정을 스마트 카드에 연결하고 "**대화형 로그온에 스마트 카드 필요**" 특성을 사용하도록 설정합니다.

"**대화형 로그온에 스마트 카드 필요**" 특성을 사용하지 않도록 설정했다가 다시 사용하도록 설정하여 주기적으로 임의 암호 해시 값을 자동으로 다시 설정하는 스크립트를 구현해야 합니다.

응급 액세스 계정 이외에 직원이 사용하는 계정에 대한 예외를 허용하지 않습니다.

###### <a name="enforce-multi-factor-authentication-for-all-cloud-admin-accounts"></a>모든 클라우드 관리자 계정에 다단계 인증 적용

Microsoft Azure 및 Office 365와 같은 클라우드 서비스에서 관리 권한이 있는 모든 계정은 다단계 인증을 사용해야 합니다.

##### <a name="rare-use-emergency-procedures"></a>드물게 사용되는 응급 절차

운영 방식에서는 다음 표준을 지원해야 합니다.

- 작동 중단을 빠르게 해결할 수 있어야 합니다.
- 필요에 따라 드물게 발생하는 높은 권한 작업을 수행할 수 있어야 합니다.
- 안전한 절차를 사용하여 자격 증명 및 권한을 보호해야 합니다.
- 적절한 추적 및 승인 프로세스를 따라야 합니다.

###### <a name="correctly-follow-appropriate-processes-for-all-emergency-access-accounts"></a>모든 응급 액세스 계정에 대해 적절한 프로세스를 올바르게 준수

각 응급 액세스 계정에 대한 추적 시트가 안전하게 보관되어 있는지 확인합니다.

각 계정에 대해 암호 추적 시트에 설명된 절차를 따라야 합니다. 여기에는 각 사용 후 암호 변경 및 완료 후 사용된 모든 워크스테이션 또는 서버에서 로그아웃이 포함됩니다.

응급 액세스 계정의 모든 사용은 사전 또는 사후에 변경 승인 위원회로부터 승인된 응급 사용으로 승인을 받아야 합니다.

###### <a name="restrict-and-monitor-usage-of-emergency-access-accounts"></a>응급 액세스 계정 사용 제한 및 모니터링

응급 액세스 계정의 모든 사용에 대해

- 권한 있는 도메인 관리자만 도메인 관리자 권한으로 응급 액세스 계정에 액세스할 수 있습니다.
- 응급 액세스 계정은 도메인 컨트롤러 및 기타 계층 0 호스트에만 사용할 수 있습니다.
- 이 계정은 다음 작업을 수행하는 데에만 사용해야 합니다.
  - 문제 해결 및 올바른 관리 계정의 사용을 방지하는 기술적 문제 해결
  - 다음과 같은 드문 작업
    - 스키마 관리
    - 엔터프라이즈 관리 권한이 필요한 포리스트 전체 작업

      > [!NOTE]
      > Active Directory 사이트 및 서브넷 관리를 비롯한 토폴로지 관리는 이러한 권한의 사용을 제한하도록 위임됩니다.

- 이러한 계정 중 하나의 모든 사용은 보안 그룹 책임자가 서면으로 허가해야 합니다.
- 각 응급 액세스 계정에 대한 추적 시트의 절차에 따라 각 사용에 대해 암호를 변경해야 합니다. 보안 팀 구성원은 이를 올바르게 확인해야 합니다.

###### <a name="temporarily-assign-enterprise-admin-and-schema-admin-membership"></a>일시적으로 엔터프라이즈 관리자 및 스키마 관리자 구성원 자격 할당

필요에 따라 권한을 추가하고 사용 후 제거해야 합니다. 작업을 완료할 기간 동안에만 응급 계정에 이러한 권한을 할당해야 하며, 해당 기간은 최대 10시간입니다. 작업이 완료된 후 변경 승인 위원회 기록에 이러한 권한의 모든 사용 및 기간을 보관해야 합니다.

## <a name="esae-administrative-forest-design-approach"></a>ESAE 관리 포리스트 디자인 방법

이 섹션에는 Microsoft의 사이버 안보 전문 서비스 팀이 사이버 보안 공격으로부터 고객을 보호하기 위해 배포한 ESAE(Enhanced Security Administrative Environment) 참조 아키텍처를 기반으로 하는 관리 포리스트에 대한 접근 방식이 포함되어 있습니다.

전용 관리 포리스트를 사용하면 프로덕션 환경보다 더 강력한 보안 제어 기능을 포함하는 환경에서 관리 계정, 워크스테이션 및 그룹을 호스트할 수 있습니다.

이 아키텍처를 사용하면 PAW(Privileged Access Workstation)로 관리되는 경우에도 단일 포리스트 아키텍처에서는 가능하지 않거나 쉽게 구성되지 않는 많은 보안 제어가 가능해집니다. 이 접근 방법을 통해 프로덕션 환경에서는 높은 권한이 있지만 관리 포리스트에서는 권한 없는 표준 사용자가 되도록 계정을 프로비전할 수 있고, 거버넌스를 보다 기술적으로 적용할 수 있습니다. 또한 이 아키텍처는 로그온(및 자격 증명 노출)을 허가된 호스트로만 제한하는 수단으로 트러스트의 선택적 인증 기능을 사용할 수 있도록 합니다. 비용을 들이거나 복잡하게 전체를 다시 작성하지 않으면서 프로덕션 포리스트에 대해 더 높은 수준의 보증을 적용하려는 경우 관리 포리스트가 프로덕션 환경의 보증 수준을 높이는 환경을 제공할 수 있습니다.

이 방법은 Active Directory 환경에 포리스트를 추가하지만 고정된 디자인, 작은 하드웨어/소프트웨어 설치 공간 및 적은 수의 사용자로 인해 비용 및 복잡성이 제한됩니다.

> [!NOTE]
> 이 방법은 Active Directory를 관리하는 데 적합하지만 대부분의 애플리케이션은 표준 트러스트를 사용하여 외부 포리스트의 계정으로 관리되지 않습니다.

이 그림에서는 Microsoft Identity Manager의 권한 있는 액세스 관리 기능을 사용하도록 구성된 PRIV 포리스트 및 계층 0 자산의 관리에 사용되는 ESAE 포리스트를 보여 줍니다. MIM PAM 인스턴스 배포에 대한 자세한 내용은 [Active Directory 도메인 서비스(AD DS)에 대한 권한 있는 ID 관리](https://technet.microsoft.com/library/mt150258.aspx) 문서를 참조하세요.

![Microsoft Identity Manager의 권한 있는 액세스 관리 기능을 사용하도록 구성된 PRIV 포리스트 및 계층 0 자산의 관리에 사용되는 ESAE 포리스트를 보여 주는 그림](../media/securing-privileged-access-reference-material/PAW_RM_Fig14.JPG)

전용 관리 포리스트는 Active Directory 관리 기능 전용으로 사용되는 표준 단일 도메인 Active Directory 포리스트입니다. 관리 포리스트 및 도메인은 사용 사례가 제한되어 있으므로 프로덕션 포리스트보다 보안이 엄격하게 관리될 수 있습니다.

관리 포리스트를 디자인할 때는 다음을 고려해야 합니다.

- **제한된 범위** – 관리 포리스트의 기본 가치는 높은 수준의 보안을 보증하고 공격 노출 영역을 줄여 잔여 위험을 낮추는 것입니다. 이 포리스트는 추가적인 관리 기능 및 애플리케이션을 포함하는 데 사용될 수 있지만 범위가 증가할 때마다 포리스트의 공격 노출 영역과 해당 리소스가 증가합니다. 포리스트의 기능과 내부의 관리 사용자를 제한하여 공격 노출 영역을 최소화하는 것이 목표이므로 범위가 증가할 때마다 신중히 고려해야 합니다.
- **트러스트 구성** – 관리되는 포리스트 또는 도메인에서 관리 포리스트로의 신뢰를 구성합니다.
   - 프로덕션 환경에서 관리 포리스트로의 단방향 트러스트가 필요합니다. 이것은 도메인 트러스트 또는 포리스트 트러스트일 수 있습니다. 추가 애플리케이션에 양방향 트러스트 관계, 보안 유효성 검사 및 테스트가 필요할 수 있지만, 관리 포리스트/도메인이 Active Directory를 관리하기 위해 관리되는 도메인/포리스트를 신뢰할 필요는 없습니다.
   - 관리 포리스트의 계정에서 해당 프로덕션 호스트에만 로그온하도록 제한하려면 선택적 인증을 사용해야 합니다. Active Directory에서 도메인 컨트롤러를 유지 관리하고 권한을 위임하려는 경우 일반적으로 도메인 컨트롤러에 대한 "로그온 허용" 권한을 관리 포리스트의 지정된 계층 0 계정에 부여해야 할 수 있습니다. 자세한 내용은 선택적 인증 설정 구성을 참조하세요.
- **권한 및 도메인 강화** - 관리 포리스트는 Active Directory 관리에 대한 요구 사항에 따라 최소 권한으로 구성되어야 합니다.
   - 도메인 컨트롤러를 관리하고 사용 권한을 위임할 권한을 부여하려면 BUILTIN\Administrators 도메인 로컬 그룹에 관리자 포리스트 계정을 추가해야 합니다. Domain Admins 그룹은 외부 도메인의 구성원을 포함할 수 없기 때문입니다.
   - 이 그룹을 사용하여 권한을 부여할 때 한 가지 주의할 점은 기본적으로 새 그룹 정책 개체에 대한 관리 권한이 없다는 점입니다. [이 기술 자료 문서](https://support.microsoft.com/kb/321476)의 절차에 따라 스키마 기본 권한을 변경할 수 있습니다.
   - 프로덕션 환경을 관리하는 데 사용되는 관리 포리스트의 계정에는 관리 포리스트, 포함된 도메인 또는 포함된 워크스테이션에 대한 관리자 권한이 부여되지 않아야 합니다.
   - 공격자나 악의적인 내부자가 감사 로그를 지울 기회를 줄이려면 관리 포리스트에 대한 관리자 권한을 오프라인 프로세스를 통해 강력하게 제어해야 합니다. 이렇게 하면 프로덕션 관리자 계정이 있는 직원이 자신의 계정에 대한 제한을 완화하여 조직에 대한 위험을 높일 수 없게 됩니다.
   - 관리 포리스트는 인증 프로토콜에 대한 강력한 구성을 포함하여 도메인에 대한 Microsoft SCB(Security Compliance Baseline) 구성을 수행해야 합니다.
   - 모든 관리 포리스트 호스트는 보안 업데이트로 자동 업데이트해야 합니다. 이로 인해 도메인 컨트롤러 유지 관리 작업이 중단될 수 있지만 패치가 적용되지 않은 취약성으로 인한 보안 위험이 크게 완화될 수 있습니다.

      > [!NOTE]
      > 전용 Windows Server Update Services 인스턴스에서는 업데이트를 자동으로 승인하도록 구성할 수 있습니다. 자세한 내용은 업데이트 승인의 "업데이트 설치 자동 승인" 섹션을 참조하세요.

- **워크스테이션 강화** - [PAW(Privileged Access Workstation)](../securing-privileged-access/privileged-access-workstations.md)를 사용하여 관리 워크스테이션을 구축(3단계)하되, 도메인 구성원 자격을 프로덕션 환경 대신 관리 포리스트로 변경합니다.
- **서버 및 DC 강화** - 관리 포리스트의 모든 도메인 컨트롤러 및 서버에 대해 다음을 수행합니다.
   - [설치 미디어에 대한 클린 소스](https://aka.ms/cleansource)의 지침을 사용하여 모든 미디어의 유효성을 검사해야 합니다.
   - 관리 포리스트 서버에 최신 운영 체제가 설치되어 있어야 합니다(프로덕션에서는 가능하지 않음).
   - 관리 포리스트 호스트는 보안 업데이트로 자동 업데이트해야 합니다.

      > [!NOTE]
      > Windows Server Update Services에서는 업데이트를 자동으로 승인하도록 구성할 수 있습니다. 자세한 내용은 업데이트 승인의 "업데이트 설치 자동 승인" 섹션을 참조하세요.

   - 보안 기준을 시작 구성으로 사용해야 합니다.

      > [!NOTE]
      > 고객은 관리 호스트에는 초기 계획을 구성하기 위해 Microsoft SCT(Security Compliance Toolkit)를 사용할 수 있습니다.

   - 부팅 프로세스에 서명되지 않은 코드를 로드하려고 하는 공격자 또는 맬웨어의 위협을 완화하도록 보안 부팅합니다.

      > [!NOTE]
      > 이 기능은 UEFI(Unified Extensible Firmware Interface)를 활용하도록 Windows 8에 도입되었습니다.

   - 전체 볼륨 암호화를 통해 원격으로 사용되는 관리 랩톱과 같은 컴퓨터가 실제로 손상되는 경우를 완화합니다.

      > [!NOTE]
      > 자세한 내용은 [BitLocker](https://technet.microsoft.com/library/dn641993.aspx)를 참조하세요.

   - USB 제한을 통해 물리적 감염 벡터로부터 보호합니다.

      > [!NOTE]
      > 자세한 내용은 [이동식 디바이스 또는 미디어에 대한 읽기 또는 쓰기 액세스 제어](https://technet.microsoft.com/library/cc730808(v=ws.10).aspx)를 참조하세요.

   - 네트워크 격리를 통해 네트워크 공격 및 부주의한 관리 작업으로부터 보호합니다. 호스트 방화벽은 명시적으로 필요한 경우를 제외하고 들어오는 모든 연결을 차단하고 모든 아웃바운드 인터넷 액세스를 차단해야 합니다.

   - 맬웨어 방지를 통해 알려진 위협 및 맬웨어로부터 보호합니다.

   - 공격 노출 영역 분석을 통해 새 소프트웨어 설치 중에 Windows에 새로운 공격 벡터가 발생하지 않도록 합니다.

      > [!NOTE]
      > [ASA(Attack Surface Analyzer)](https://www.microsoft.com/download/details.aspx?id=24487)와 같은 도구를 사용하면 호스트의 구성 설정을 평가하고 소프트웨어 또는 구성 변경으로 인해 공격 벡터를 식별하는 데 도움이 됩니다.

- 계정 강화
   - 하나의 계정을 제외하고 관리 포리스트의 모든 계정에 대해 다단계 인증을 구성해야 합니다. 다단계 인증 프로세스가 중단된 경우 액세스가 작동하도록 최소 하나의 관리 계정은 암호를 기반으로 해야 합니다. 이 계정은 엄격한 물리적 제어 프로세스에 의해 보호되어야 합니다.
   - 다단계 인증용으로 구성된 계정은 새 NTLM 해시를 정기적으로 설정하도록 구성되어야 합니다. 이렇게 하려면 대화형 로그온에 스마트 카드 필요 특성을 사용하지 않도록 설정했다가 다시 사용하도록 설정하면 됩니다.

      > [!NOTE]
      > 이 경우 해당 계정을 사용하는 진행 중인 작업이 중단될 수 있으므로 야간이나 주말과 같이 관리자가 계정을 사용하지 않을 때에만 이 프로세스를 시작해야 합니다.

- 검색 컨트롤
   - 관리 포리스트에 대한 검색 컨트롤은 관리 포리스트의 비정상 문제를 경고하도록 설계되어야 합니다. 권한이 부여된 시나리오 및 작업 수를 제한하면 프로덕션 환경보다 더 정확하게 이러한 컨트롤을 조정할 수 있습니다.

사용자 환경을 위한 ESAE 디자인 및 배포에 Microsoft 서비스를 참여시키는 방법에 대한 자세한 내용은 [이 페이지](https://www.microsoft.com/services)를 참조하세요.

## <a name="tier-0-equivalency"></a>계층 0 동일성

대부분의 조직은 Administrators, Domain Admins 및 Enterprise Admins과 같은 강력한 계층 0 Active Directory 그룹에 대한 구성원 자격을 제어합니다.  또한 일반적인 Active Directory 환경의 권한에서 동일한 다른 그룹의 위험을 간과합니다. 이러한 그룹은 공격자가 다양한 공격 방법을 사용하여 동일한 명시적 계층 0 권한에 대한 비교적 손쉬운 에스컬레이션 경로를 제공합니다.

예를 들어 서버 운영자는 도메인 컨트롤러의 백업 미디어에 대한 액세스 권한을 얻어 해당 미디어의 파일에서 모든 자격 증명을 추출하고 이를 사용하여 권한을 에스컬레이션할 수 있습니다.

조직에서는 다음을 포함하여 모든 계층 0 그룹의 구성원 자격(중첩된 구성원 자격 포함)을 제어하고 모니터링해야 합니다.

- Enterprise Admins
- Domain Admins
- Schema Admin
- BUILTIN\Administrators
- Account Operators
- Backup Operators
- Print Operators
- Server Operators
- 도메인 컨트롤러 하나 이상
- Read-only Domain Controllers
- Group Policy Creator Owners
- Cryptographic Operators
- Distributed COM Users
- 다른 위임된 그룹 - 조직에서 유효한 계층 0 액세스 권한이 있을 수 있는 디렉터리 작업을 관리하기 위해 만들 수 있는 사용자 지정 그룹입니다.

## <a name="administrative-tools-and-logon-types"></a>관리 도구 및 로그온 유형

이는 다양한 관리 도구를 사용한 원격 관리와 관련된 자격 증명 노출 위험을 식별하는 데 유용한 참조 정보입니다.

원격 관리 시나리오에서는 항상 자격 증명이 원본 컴퓨터에 노출되므로 중요하거나 매우 영향력 있는 계정에는 항상 신뢰할 수 있는 PAW(Privileged Access Workstation)를 사용하는 것이 좋습니다. 자격 증명이 대상(원격) 컴퓨터의 잠재적 도난에 노출되는지 여부는 주로 연결 방법에 사용되는 Windows 로그온 유형에 따라 달라집니다.

다음 표에는 가장 일반적인 관리 도구 및 연결 방법에 대한 지침이 나와 있습니다.

|연결 방법|로그온 유형|대상에서 자격 증명 재사용 가능|설명|
|-----------|-------|--------------------|------|
|콘솔에 로그온|Interactive (대화형)|v|하드웨어 원격 액세스/lights-out 카드, 네트워크 KVM을 포함합니다.|
|RUNAS|Interactive (대화형)|v||
|RUNAS/네트워크|새 자격 증명|v|로컬 액세스를 위해 현재 LSA 세션을 복제하지만 네트워크 리소스에 연결할 때 새 자격 증명을 사용합니다.|
|원격 데스크톱(성공)|원격 대화형|v|원격 데스크톱 클라이언트가 로컬 서비스 및 리소스를 공유하도록 구성된 경우 해당 로컬 서비스 및 리소스도 손상될 수 있습니다.|
|원격 데스크톱(실패- 로그온 유형 거부)|원격 대화형|-|기본적으로 RDP 로그온에 실패한 경우 자격 증명은 잠깐 동안만 저장됩니다. 컴퓨터가 손상된 경우에는 그렇지 않을 수 있습니다.|
|Net use * \\\SERVER|Network (네트워크)|-||
|Net use * \\\SERVER /u:user|Network (네트워크)|-||
|원격 컴퓨터에 대한 MMC 스냅인|Network (네트워크)|-|예제: 컴퓨터 관리, 이벤트 뷰어, 디바이스 관리자, 서비스|
|PowerShell WinRM|Network (네트워크)|-|예제: Enter-PSSession 서버|
|CredSSP 사용 PowerShell WinRM|네트워크 일반 텍스트|v|New-PSSession 서버<br />-Authentication Credssp<br />-Credential cred|
|PsExec(명시적 자격 증명 사용 안 함)|Network (네트워크)|-|예제: PsExec \\\server cmd|
|PsExec(명시적 자격 증명 사용)|네트워크 + 대화형|v|PsExec \\\server -u user -p pwd cmd<br />여러 로그온 세션을 만듭니다.|
|원격 레지스트리|Network (네트워크)|-||
|원격 데스크톱 게이트웨이|Network (네트워크)|-|원격 데스크톱 게이트웨이를 인증합니다.|
|예약된 작업|Batch (배치)|v|암호가 디스크에 LSA 암호로도 저장됩니다.|
|서비스로 도구 실행|서비스|v|암호가 디스크에 LSA 암호로도 저장됩니다.|
|취약점 스캐너|Network (네트워크)|-|대부분의 스캐너는 기본적으로 네트워크 로그온을 사용하지만 일부 공급업체는 비 네트워크 로그온을 구현하여 자격 증명 도난 위험을 증가시킬 수 있습니다.|

웹 인증의 경우 아래 표의 참조를 사용합니다.

|연결 방법|로그온 유형|대상에서 자격 증명 재사용 가능|설명|
|-----------|-------|--------------------|------|
|IIS "기본 인증"|네트워크 일반 텍스트<br />(IIS 6.0 이상)<p>Interactive (대화형)<br />(IIS 6.0 이전)|v||
|IIS "Windows 통합 인증"|Network (네트워크)|-|NTLM 및 Kerberos 공급자입니다.|

열 정의:

- **로그온 유형**은 연결에 의해 시작되는 로그온 유형을 식별합니다.
- **대상에서 자격 증명 재사용 가능**은 다음 자격 증명 유형이 지정된 계정이 로컬로 로그온된 대상 컴퓨터의 LSASS 프로세스 메모리에 저장됨을 나타냅니다.
   - LM 및 NT 해시
   - Kerberos TGT
   - 일반 텍스트 암호(해당되는 경우)

이 표의 기호는 다음과 같이 정의됩니다.

- (-)는 자격 증명이 노출되지 않는 경우를 나타냅니다.
- (v)는 자격 증명이 노출되는 경우를 나타냅니다.

이 표에 없는 관리 애플리케이션의 경우 로그온 이벤트 감사의 로그온 유형 필드에서 로그온 유형을 확인할 수 있습니다. 자세한 내용은 [로그온 이벤트 감사](https://technet.microsoft.com/library/cc787567(v=ws.10).aspx)를 참조하세요.

Windows 기반 컴퓨터에서는 사용되는 인증 프로토콜 또는 인증자에 상관없이 모든 인증이 여러 로그온 유형 중 하나로 처리됩니다. 다음 표에는 가장 일반적인 로그온 유형 및 자격 증명 도난과 관련된 해당 특성이 나와 있습니다.

|로그온 유형|#|허용되는 인증자|LSA 세션에서 다시 사용할 수 있는 자격 증명|예|
|-------|---|--------------|--------------------|------|
|대화형(즉, 로컬로 로그온)|2|암호, 스마트 카드,<br />기타|예|콘솔 로그온<br />RUNAS;<br />하드웨어 원격 제어 솔루션(예: 네트워크 KVM 또는 원격 액세스/서버의 Lights-Out 카드)<br />IIS 기본 인증(IIS 6.0 이전)|
|Network (네트워크)|3|암호,<br />NT 해시,<br />Kerberos 티켓|아니요(단, 위임이 사용되는 경우 Kerberos 티켓이 있음)|NET USE<br />RPC 호출<br />원격 레지스트리<br />IIS Windows 통합 인증<br />SQL Windows 인증|
|Batch (배치)|4|암호(일반적으로 LSA 암호로 저장됨)|예|예약형 작업|
|서비스|5|암호(일반적으로 LSA 암호로 저장됨)|예|Windows 서비스|
|네트워크 일반 텍스트|8|암호|예|IIS 기본 인증(IIS 6.0 이상)<br />Windows PowerShell(CredSSP 사용)|
|새 자격 증명|9|암호|예|RUNAS/네트워크|
|원격 대화형|10|암호, 스마트 카드,<br />기타|예|원격 데스크톱(이전의 "터미널 서비스")|

열 정의:

- **로그온 유형**은 요청된 로그온 유형입니다.
- **#** 은 보안 이벤트 로그의 감사 이벤트에 보고되는 로그온 유형에 대한 숫자 식별자입니다.
- **허용되는 인증자**는 이 유형의 로그온을 시작할 수 있는 인증자 유형을 나타냅니다.
- **LSA 세션에서 자격 증명 재사용 가능**은 로그온 유형으로 인해 LSA 세션에 자격 증명(예: 일반 텍스트 암호, NT 해시 또는 다른 네트워크 리소스에 인증하는 데 사용할 수 있는 Kerberos 티켓)이 유지되는지 여부를 나타냅니다.
- **예**는 로그온 유형이 사용되는 일반적인 시나리오를 나열합니다.

> [!NOTE]
> 로그온 유형에 대한 자세한 내용은 [SECURITY_LOGON_TYPE 열거형](https://technet.microsoft.com/library/aa380129(VS.85).aspx)을 참조하세요.
