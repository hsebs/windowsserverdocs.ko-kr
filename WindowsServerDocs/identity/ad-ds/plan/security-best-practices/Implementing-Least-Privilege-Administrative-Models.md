---
ms.assetid: 7a7ab95c-9cb3-4a7b-985a-3fc08334cf4f
title: 최소 권한 관리 모델 구현
ms.author: joflore
author: MicrosoftGuyJFlo
manager: mtillman
ms.date: 08/09/2018
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adds
ms.openlocfilehash: c8655c7bac977bf94add1531d299e2fa17ef530d
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80821246"
---
# <a name="implementing-least-privilege-administrative-models"></a>최소 권한 관리 모델 구현

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

다음 발췌 구문에서은 [관리자 계정 보안 계획 가이드](https://technet.microsoft.com/library/cc162797.aspx), 1999 년 4 월 1 일에 처음 게시:

> "대부분의 보안 관련 교육 과정 및 설명서의 최소 권한의 원칙 구현에 설명 하면서 조직에서는 거의 따릅니다. 원칙 간단 하 고 크게 올바르게 적용의 영향을 사용자의 보안을 증가 하 고 위험을 줄일 수 있습니다. 규칙에 따르면 모든 사용자가 현재 작업 하며 그 이상의 완료 하는 데 필요한 절대 최소 권한을 가진 사용자 계정으로 로그온 해야 합니다. 이렇게 하는 것은 다른 공격에서 악성 코드 로부터 보호 합니다. 해당 컴퓨터의 사용자와 컴퓨터에이 원칙이 적용 됩니다.   
> "이이 원칙을도 잘 작동 하는 이유 중 하나를 내부 조사 강요 한다는 점입니다. 예를 들어, 컴퓨터 또는 사용자에 실질적으로 필요한 액세스 권한을 결정 하 고 그런 다음이 구현 해야 합니다. 많은 조직에서이 작업 처음으로 보일 수 다양 한 단계입니다. 그러나 있어 네트워크 환경에 성공적으로 보호를 위해 필수적인 단계입니다.
> "권한을 부여 하는 도메인 관리자가 모든 사용자의 도메인에서 최소한의 권한 개념입니다. 예를 들어 관리자 권한이 가진된 계정으로 로그온 하 실수로 바이러스 프로그램을 실행 하는 경우 바이러스와 전체 도메인 로컬 컴퓨터에 대 한 관리 액세스를 있습니다. 관리자에서는 권한 (관리자가 아닌) 계정을 사용 하 여 로그온 했다면, 손상의 바이러스의 범위는 수 로컬 컴퓨터의 로컬 컴퓨터 사용자로 실행 되기 때문에 있습니다.
> "또 다른 예로, 도메인 수준 관리자 권한을 부여할 계정을 해야 하지 상승 된 권한을 가져서는 다른 포리스트의 포리스트 간에 트러스트 관계가 없는 경우에 합니다. 이 방법은 공격자가 관리 되는 포리스트를 손상 시킬 경우 광범위 한 손상을 방지할 수 있습니다. 조직에서는 정기적으로 감사 해야 무단된 상승에 으로부터 보호 하기 위해 네트워크입니다. "  

다음 발췌 구문에서은 [Microsoft Windows Security Resource Kit](https://www.microsoftpressstore.com/store/microsoft-windows-security-resource-kit-9780735621749), 첫 번째에 게시 된 2005:  

> "항상 최소한의 작업을 수행 하는 데 필요한 권한 부여 측면에서 보안을 생각 합니다. 너무 많은 권한을 가진 애플리케이션은 손상 될 경우 공격자가 애플리케이션에서 최소한의 권한 가능한 했다면는 어떤 초과 공격을 확장할 수 수 있습니다. 예를 들어 모르게 바이러스를 시작 하는 전자 메일 첨부 파일을 열고 네트워크 관리자의 결과 검사 합니다. 관리자가 도메인 관리자 계정을 사용 하 여 로그온 하는 경우 바이러스 관리자 권한이 도메인의 모든 컴퓨터에 있으며 따라서 네트워크에서 거의 모든 데이터에 무제한 액세스할. 관리자에 로깅되는 경우는 로컬 관리자 계정을 사용 하 여 바이러스 관리자 권한이 로컬 컴퓨터에 있으며 따라서 키 스트로크 로깅 소프트웨어 등 악성 소프트웨어를 컴퓨터에 설치 하 고 컴퓨터에 모든 데이터에 액세스할 수 있게 됩니다. 관리자가 일반 사용자 계정을 사용 하 여 로그온 하는 경우 바이러스 관리자의 데이터에만 액세스할 수 있는 및 악성 소프트웨어를 설치할 수 없습니다. 이 예제에서는 전자 메일을 읽는 데 필요한 최소한의 권한을 사용 하 여 손상의 잠재적 범위 크게 줄었습니다. "  

## <a name="the-privilege-problem"></a>권한 문제

앞 부분에서 설명 하는 원칙은 변경 되지 않은 하지만 Active Directory 설치를 평가, 우리 동일 하 게 확인 하지 계정 권한 및 보다 훨씬 더 강력 일상적인 작업을 수행 하는 데 필요한 사용 권한이 부여 된 과도 하 게 많은 합니다. 환경의 크기가 지나치게 권한이 높은 계정 수에 영향을 줍니다 하지만 수백 또는 수천 대규모 설치 해야 하는 동안 proportionmidsized 디렉터리가 아니라 가장 높은 권한 있는 그룹에 계정 수십 될 수도 있습니다. 몇 가지 예외를 제외 하는 공격자의 기술 및 자리를 잡고, 숙련도 관계 없이 공격자는 일반적으로 최소 저항 경로 따릅니다. 만 경우 방어자로 간단한 메커니즘 장애가 발생 하거나 연결이 차단 도구와 방법의 복잡성을 증가 시킵니다.  

아쉽게도 많은 환경에서 최소 저항 경로 광범위 하 고 전체 권한 가진 계정 과도 하 게 사용 될 것으로 입증 합니다. 광범위 한 권한은 큰 망라 환경-간 예를 들어 특정 작업을 수행 하는 계정이 허용 된 권한 및 사용, 지원 센터 담당자 수 있습니다 권한은 부여할 수 많은 사용자 계정에 암호를 다시 설정 하도록 허용 하는.  

심층 권한은 복구를 수행할 수 있도록 서버에 대 한 엔지니어 관리자 권한을 부여 하는 등 채우기의 좁은 세그먼트에 적용 되는 강력한 권한입니다. 광범위 한 권한 아니고 심층 권한 반드시 위험한 이지만 도메인의 여러 계정은 광범위 하 고 전체 권한 부여 영구적으로 손상 되는 계정 중 하나의 경우에 사용할 수 있습니다 신속 하 게 공격자의 용도로 환경 다시 구성 또는 인프라의 큰 세그먼트를 삭제 합니다.  

자격 증명 도난 공격 유형의 해시를 전달 공격 되며 어디에서 나을 수행 하는 도구는 무료로 사용 가능 하 고 사용 하기 쉬운-, 때문에 많은 환경에서 공격에 취약 때문에 있습니다. 그러나 해시를 전달 공격에서 실제 문제는. 문제의 핵심은 다음 두 가지입니다.  

1. 일반적으로 공격자가 단일 컴퓨터에 대 한 전체 권한이 가져오고 후 다른 컴퓨터에 광범위 하 게 해당 권한을 전파 하는 것이 쉽습니다.  
2. 컴퓨팅 환경 전반에서 너무 많은 영구 계정 높은 수준의 권한으로는 일반적 으로입니다.

해시를 전달 공격 제거 하는 경우에 공격자가 다른 전술, 다른 전략 하지 사용 하기만 합니다. 자격 증명 도난을 도구를 포함 하는 맬웨어의 효과 얻습니다 대신은 키 입력을 기록 하는 맬웨어 공장 수도 있습니다 개수에 관계 없이 다른 방법도를 캡처하는 환경의 강력한는 자격 증명을 활용 하 여. 전략에 관계 없이 대상 동일 하 게 유지: 광범위 하 고 전체 권한 있는 계정입니다.  

과도 한 권한 부여만에서 찾을 수 없는 Active Directory에서 손상 된 환경입니다. 조직에서 필요한 것 보다 더 많은 권한을 부여 하는 습관을 개발 하는 다음 섹션에서 설명 했 듯이 인프라 전체에서 일반적으로 발견 됩니다.  

## <a name="in-active-directory"></a>Active Directory에서

이 Active Directory에서 찾을 EA, DA, BA 그룹 계정 수 없다고 일반적입니다. 가장 일반적으로 가장 적은 멤버를 포함 하는 조직의 EA 그룹, DA 그룹에는 일반적으로 EA 그룹의 사용자 수의 승수로 포함 및 관리자 그룹에는 일반적으로 결합 하는 다른 그룹의 채우기 보다 구성원이 포함 합니다. 이 관리자는 어떤 이유로 든 믿음이 인해 방식은 DAs 또는 EAs 보다 "권한" less 합니다. 이러한 각 그룹에 부여 된 권한과 다를 있지만 효과적으로 고려해 야 동일 하 게 강력한 그룹 중 하나의 멤버인 자신에 다른 두의 멤버를 만들 수 있으므로 합니다.  

## <a name="on-member-servers"></a>구성원 서버에서

까지의 범위 내에서 로컬 및 도메인 계정, 소수의 수십 개의 중첩 된 그룹 멤버 자격 사실을 알게 많은 환경에서 구성원 서버에서 로컬 관리자 그룹의 구성원을 검색 하는 경우를 확장 하면 표시 수백, 수천 서버에서 로컬 관리자 권한이 있는 계정입니다. 대부분의 경우에서 큰 멤버 자격으로 도메인 그룹 구성원 서버 로컬 관리자 그룹, 도메인에 있는 해당 그룹의 구성원을 수정할 수 있는 모든 사용자에 모든 시스템의 그룹에 된 중첩 된 로컬 Administrators 그룹의 관리 제어를 얻을 수 있다는 사실 고려 하지 않고에 중첩 됩니다.  

## <a name="on-workstations"></a>워크스테이션에서

워크스테이션에는 일반적으로 보다 구성원 서버, 다양 한 환경에 상당히 적은 수의 로컬 관리자 그룹 멤버는 사용자의 개인용 컴퓨터에서 로컬 관리자 그룹의 멤버 자격이 부여 됩니다. 이 경우 UAC를 사용 하는 경우에, 해당 사용자가 자신의 워크스테이션의 무결성에는 상승 된 위험을 제공 합니다.  

> [!IMPORTANT]  
> 신중 하 게 고려해 야 사용자가 자신의 워크스테이션에 관리자 권한이 있어야 하며 라우팅하는 경우 더 나은 방법 하기가 Administrators 그룹의 구성원 인 컴퓨터에서 별도 로컬 계정을 만듭니다. 권한 상승에 대 한 해당 로컬 계정의 자격 증명 제공할 수 있는 사용자가 권한 상승을 요구 하는 경우 있지만 계정은 로컬 이므로 도메인 리소스에 액세스 하거나 다른 컴퓨터에 사용할 수 없습니다. 그러나 모든 로컬 계정을와 마찬가지로 로컬 권한 있는 계정의 자격 증명 고유 해야 합니다. 여러 워크스테이션에서 동일한 자격 증명으로 로컬 계정을 만들면 컴퓨터 해시를 전달 공격에 노출 합니다.  

## <a name="in-applications"></a>응용 프로그램에서

공격 대상의 조직에 대 한 지식 정보를 애플리케이션 내에서 강력한 권한이 부여 된 계정 exfiltration 데이터를 허용 하도록 지정할 수 있습니다. 하지만 중요 한 데이터에 액세스할 수 있는 계정은 부여 된 도메인 또는 운영 체제, 애플리케이션의 구성 조작할 수 있는 계정에서 상승 된 권한이 없는 또는 애플리케이션 정보에 액세스할 수 있는 위험을 제공 합니다.  

## <a name="in-data-repositories"></a>데이터 저장소에서

계정을 대상으로 문서 및 기타 파일의 형태로 지적 재산에 액세스 하려고 하는 공격자가 지정할 수는 다른 대상은 그대로 파일에 대 한 액세스 제어 저장소, 파일 또는 심지어 그룹 또는 파일에 액세스할 수 있는 역할에 직접 액세스할 수 있는 계정입니다. 예를 들어 계약 문서를 저장할 파일 서버를 사용 하는 경우 Active Directory 그룹을 사용 하 여 문서에 액세스가 허용 됩니다 그룹의 구성원을 수정할 수 있는 공격자는 수 그룹에 손상 된 계정을 추가 하 고 계약 문서에 액세스 합니다. SharePoint와 같은 애플리케이션에서 문서에는 액세스를 제공 하는 경우에서 공격자가 앞에서 설명한 대로 애플리케이션을 지정할 수 있습니다.  

## <a name="reducing-privilege"></a>권한 줄이기

더 큰 숫자 및 복잡 한 환경에 더 어렵게 관리 및 보호 하는 것입니다. 소규모 조직에서 검토 하 고 권한을 줄이는 비교적 단순한 일을 기준으로 수 있지만 각 추가 서버, 워크스테이션, 사용자 계정 및 조직에서 사용 중인 애플리케이션 보호 해야 하는 다른 개체를 추가 합니다. 수 있으므로 어렵거나를 제대로 조직의의 모든 측면을 보안 IT 인프라를 초점을 맞춰야 인 권한 만들기 가장 큰 위험을 계정에 대해 가장 먼저 노력, 워크스테이션 및 구성원 서버에 권한이 부여 된 로컬 계정 및 계정과 Active Directory에서 그룹에 일반적으로 권한 있는 기본 제공 합니다.  

### <a name="securing-local-administrator-accounts-on-workstations-and-member-servers"></a>워크스테이션 및 구성원 서버에서 로컬 관리자 계정 보안

이 문서에서는 앞에서 설명한 대로 Active Directory 보안, 디렉터리에 대 한 대부분 공격 개별 호스트에 대 한 공격으로 시작 합니다. 로컬 그룹 멤버의 시스템에 보안 설정에 대 한 전체 지침을 제공할 수 없습니다, 하지만 다음 권장 사항을 워크스테이션 및 구성원 서버에서 로컬 관리자 계정을 보호 하는 데 도움이 데 사용할 수 있습니다.  

#### <a name="securing-local-administrator-accounts"></a>로컬 관리자 계정 보안

현재 기본 지원에에서는 Windows의 모든 버전에서는 기본적으로 계정을 사용할 수 없게 해시를 전달 및 기타 자격 증명 도난 공격에 대 한 로컬 관리자 계정이 비활성화 되어 있습니다. 그러나 이전 운영 체제를 포함 하는 도메인 또는 로컬 관리자 계정을 사용 하도록 설정에서 이러한 계정은 사용할 수 있는 앞에서 설명한 대로 구성원 서버 및 워크스테이션에 손상 된를 전파 합니다. 이러한 이유로 다음 컨트롤은 도메인에 가입 된 시스템에서 모든 로컬 관리자 계정에 대 한 것이 좋습니다.  

이러한 컨트롤을 구현 하기 위한 자세한 지침에 제공 됩니다 [부록 h: 보안 로컬 관리자 계정 및 그룹](../../../ad-ds/plan/security-best-practices/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups.md)합니다. 이러한 설정은 구현 하기 전에 확인 합니다는 로컬 관리자 계정을 현재 사용 되지 않는 환경에서 컴퓨터에 서비스를 실행 하거나을 수행할 다른 작업을 이러한 계정을 사용할 수 없습니다. 이 설정을 프로덕션 환경에서 구현 하기 전에 철저히 테스트 합니다.  

#### <a name="controls-for-local-administrator-accounts"></a>로컬 관리자 계정에 대 한 제어

기본 제공 관리자 계정을 구성원 서버에서 서비스 계정으로 사용 해야 하거나은 사용할 로컬 컴퓨터에 로그온 할 (계정을 비활성화 하는 경우에 허용 되는 안전 모드 제외). 각 컴퓨터의 로컬 관리자 계정을 보호 컨트롤 먼저 뒤집힙니다 경우가 아니면 사용할 수 없도록 방지 하기 위해 여기에 설명 된 설정은 구현의 목표가입니다. 이러한 컨트롤을 구현 하 고 관리자 계정 변경에 대 한 모니터링을 크게 줄일 수 있습니다 공격 성공 가능성 해당 대상으로 로컬 관리자 계정입니다.  

##### <a name="configuring-gpos-to-restrict-administrator-accounts-on-domain-joined-systems"></a>도메인에 가입 된 시스템에 대 한 관리자 권한을 제한 하는 Gpo를 구성 합니다.

사용자가 만들고 각 도메인의 워크스테이션 및 구성원 서버 Ou에 연결 하는 하나 이상의 Gpo에서 관리자 계정을 **컴퓨터 Configuration\Policies\Windows 설정 \ 로컬 정책 \ 사용자 권한 할당**의 다음 사용자 권한에 추가 합니다.  

- 네트워크에서 이 컴퓨터 액세스 거부
- 일괄 작업으로 로그온 거부
- 서비스로 로그온 거부
- 원격 데스크톱 서비스를 통한 로그온 거부

관리자 계정을 이러한 사용자 권한을 추가 하면 추가 하는 여부는 로컬 관리자 계정이 나 도메인의 관리자 계정 방식으로 계정 이름을 지정 하는 지정 합니다. 예를 들어 이러한 NWTRADERS 도메인의 관리자 계정 거부를 추가 하려면 권한, 계정으로 입력 하면 **NWTRADERS\Administrator**, 하거나 NWTRADERS 도메인에 대 한 관리자 계정을 찾습니다. 입력을 보장 하기 위해 로컬 관리자 계정 제한 하는 **관리자** 에서 이러한 사용자 권한 그룹 정책 개체 편집기에서 설정 합니다.  

> [!NOTE]  
> 로컬 관리자 계정 이름이 변경 되는 경우에 정책은 여전히 적용 됩니다.  

이러한 설정은 컴퓨터의 관리자 계정을 실수로 또는 악의적으로 사용 하는 경우에 다른 컴퓨터에 연결할 사용할 수 없습니다 확인 됩니다. 로컬 관리자 계정을 사용 하 여 로컬 로그온 완전히 비활성화할 수 없습니다 나 인하려고 하면이 위해 컴퓨터의 로컬 관리자 계정을 재해 복구 시나리오에서 사용 하도록 디자인 되었기 때문입니다.  

해야 구성원 서버 또는 워크스테이션 될 도메인에서 분리 다른 로컬 계정 부여 된 관리자 권한이 없는, 컴퓨터를 안전 모드로 부팅할 수, 관리자 계정을 사용할 수 있으며, 및 컴퓨터에 대 한 복구를 적용할 계정을 사용할 수 있습니다. 복구를 완료 하는 경우 관리자 계정은 다시 수 없게 됩니다.  

### <a name="securing-local-privileged-accounts-and-groups-in-active-directory"></a>Active Directory의 로컬 특권된 계정 및 그룹 보안

*법률 번호 6: 관리자가 신뢰할 수 있는 경우에만 컴퓨터가 안전 하 게 보호 됩니다.* - [10 가지 불변 보안 법 (버전 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  

여기에 제공 된 정보는 가장 높은 권한 기본 제공 계정 및 Active Directory의 그룹 보안을 위한 일반 지침을 제공 하는 데 사용 됩니다. 자세한 단계별 지침에도 제공 되어 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md), [부록 e: 보안 Enterprise Admins 그룹에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-E--Securing-Enterprise-Admins-Groups-in-Active-Directory.md), [부록 f: 보안 도메인 관리자 그룹에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory.md), 및 [부록 g: 보안 관리자가 Active Directory의에서 그룹](../../../ad-ds/plan/security-best-practices/Appendix-G--Securing-Administrators-Groups-in-Active-Directory.md)합니다.  

이러한 설정 중 하나를 구현 하기 전에 철저 하 게 환경에 적합 한지 확인 하려면 모든 설정도 테스트 해야 합니다. 모든 조직은 이러한 설정을 구현 하려면 수 있을 것입니다.  

#### <a name="securing-built-in-administrator-accounts-in-active-directory"></a>Active Directory에서 기본 제공 관리자 계정 보안

Active Directory의 각 도메인의 관리자 계정이 도메인의 만들기의 일부로 만들어집니다. 이 계정은 기본적으로 Domain Admins 및 도메인 관리자 그룹의 멤버 이며 포리스트 루트 도메인의 도메인을 사용 하는 경우 계정이 Enterprise Admins 그룹의 멤버 이기도 합니다. 초기 빌드 활동 및 재해 복구 시나리오에 대해서만 사용 하 여 도메인의 로컬 관리자 계정의 예약 되어야 합니다. 다른 계정을 사용할 수는 복구에 적용할 기본 제공 관리자 계정을 사용할 수 있도록 되도록 하지는 포리스트의 모든 도메인 관리자 계정의 기본 멤버 자격을 변경 해야 합니다. 대신, 포리스트의 각 도메인의 관리자 계정을 보호 하기 위한 지침을 수행 해야 합니다. 이러한 컨트롤을 구현 하기 위한 자세한 지침에 제공 됩니다 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  

#### <a name="controls-for-built-in-administrator-accounts"></a>기본 제공 관리자 계정에 대 한 컨트롤

여기에 설명 된 설정은 구현의 목표는 다양 한 컨트롤 뒤집힙니다 경우가 아니면 사용할 수 없도록 각 도메인의 관리자 계정 (그룹이 아닌)를 방지 하기 위해입니다. 이러한 컨트롤을 구현 하 고 관리자 계정 변경에 대 한 모니터링, 도메인의 관리자 계정 활용 하 여 공격의 성공 가능성을 크게 줄일 수 있습니다. 포리스트의 각 도메인의 관리자 계정에 대 한 다음 설정을 구성 해야 합니다.  

##### <a name="enable-the-account-is-sensitive-and-cannot-be-delegated-flag-on-the-account"></a>계정에 "계정이 민감하여 위임할 수 없음" 플래그를 사용 하도록 설정

기본적으로 모든 계정에 Active Directory를 위임할 수 있습니다. 위임에는 컴퓨터 또는 컴퓨터에 인증 된 계정의 자격 증명을 제공 하는 서비스 또는 서비스 계정 대신 하 여 서비스를 얻기 위해 다른 컴퓨터로 수 있습니다. 사용 하도록 설정한 경우는 **계정이 민감하여 위임할 수 없음** 특성 도메인 기반 계정에서 계정의 자격 증명에 제공할 수 없으므로 다른 컴퓨터 또는 다른 시스템에서 계정의 자격 증명을 사용 하 여 위임을 활용 하는 공격을 제한 하는 네트워크에서 서비스입니다.  

##### <a name="enable-the-smart-card-is-required-for-interactive-logon-flag-on-the-account"></a>계정에는 "스마트 카드는 대화형 로그온에 필요한" 플래그를 사용 하도록 설정

사용 하도록 설정한 경우는 **대화형 로그온에 스마트 카드는** 특성 Windows 계정에 계정 암호 120 자의 임의 값을 기본값으로 다시 설정 합니다. 기본 제공 관리자 계정에이 플래그를 설정 하 여 계정의 암호 뿐 아니라 길고 복잡 하지만 사용자에 게 알려지지 않은 확인 합니다. 기술적으로이 특성을 설정 하기 전에 계정에 대 한 스마트 카드를 만들 필요가 없는 하지만 가능 하면 스마트 카드 계정 제한 구성 하기 전에 각 관리자 계정에 대해 만들어지고 스마트 카드를 안전한 위치에 저장 해야 합니다.  

설정의 **대화형 로그온에 스마트 카드는** 플래그는 계정의 암호를 다시 설정, 계정 알려진된 값으로 설정 하 고 계정의 이름 및 리소스에 액세스 하는 새 암호를 사용 하 여 네트워크에서 계정 암호를 재설정할 수 있는 권한이 있는 사용자를 방지 하지는 않습니다. 이 때문에 계정에 다음과 같은 추가 컨트롤을 구현 해야 합니다.  

##### <a name="configuring-gpos-to-restrict-domains-administrator-accounts-on-domain-joined-systems"></a>도메인에 가입 된 시스템에서 도메인의 관리자 계정 제한 하는 Gpo를 구성 합니다.

도메인 관리자 계정을 사용 하지 않도록 설정 하면 계정을 효과적으로 사용할 수 없는 있지만 계정을 실수로 또는 악의적으로 사용 하는 경우 계정에 추가 제한 사항이 구현 해야 합니다. 이러한 컨트롤 수 궁극적으로 관리자 계정으로 되돌릴 수 있지만 목적은 공격자의 진행 속도 저하 있는 컨트롤을 만들려면 및 제한 계정 손상을 줄 수 있습니다.  

사용자가 만들고 각 도메인의 워크스테이션 및 구성원 서버 Ou에 연결 하는 하나 이상의 Gpo에서 각 도메인의 관리자 계정을 **컴퓨터 Configuration\Policies\Windows 설정 \ 로컬 정책 \ 사용자 권한 할당**의 다음 사용자 권한에 추가 합니다.  

- 네트워크에서 이 컴퓨터 액세스 거부  
- 일괄 작업으로 로그온 거부  
- 서비스로 로그온 거부  
- 원격 데스크톱 서비스를 통한 로그온 거부  

> [!NOTE]  
> 로컬 관리자 계정에이 설정에 추가 하면 여부를 구성 하는 로컬 관리자 계정 또는 도메인 관리자 계정을 지정 해야 합니다. 예를 들어 이러한 NWTRADERS 도메인의 로컬 관리자 계정 거부를 추가 하려면 권한, 계정으로 입력 해야 하거나 **NWTRADERS\Administrator**, 또는 NWTRADERS 도메인에 대 한 로컬 관리자 계정으로 이동 합니다. 입력 하는 경우 **관리자** 이러한 사용자 권한 설정을 그룹 정책 개체 편집기에서 GPO를 적용할 각 컴퓨터의 로컬 관리자 계정 제한 됩니다.  
>
> 구성원 서버 및 워크스테이션의 로컬 관리자 계정 도메인 기반 관리자 계정으로 같은 방식으로 제한 하는 것이 좋습니다. 따라서 일반적으로 추가 해야 포리스트의 각 도메인에 대 한 관리자 계정 및 로컬 컴퓨터에 대 한 관리자 계정을 이러한 사용자 권한 설정 합니다. 

##### <a name="configuring-gpos-to-restrict-administrator-accounts-on-domain-controllers"></a>도메인 컨트롤러에 대 한 관리자 권한을 제한 하는 Gpo를 구성 합니다.

포리스트의 각 도메인에서 도메인 컨트롤러 OU에 연결 된 기본 도메인 컨트롤러 정책 또는 정책을 수정 하 여 각 도메인의 관리자 계정을 **컴퓨터 Configuration\Policies\Windows 설정 \ 로컬 정책 \ 사용자 권한 할당**의 다음 사용자 권한에 추가 해야 합니다.  

- 네트워크에서 이 컴퓨터 액세스 거부  
- 일괄 작업으로 로그온 거부  
- 서비스로 로그온 거부  
- 원격 데스크톱 서비스를 통한 로그온 거부  

> [!NOTE]  
> 이러한 설정은 로컬 관리자 계정을 사용할 수 없음을 도메인 컨트롤러에 연결 하려면 도메인 컨트롤러에 설정 된 경우 계정에서 로컬로 로그온 할 수 있지만 확인 됩니다. 이 계정은 해야만 사용 하도록 설정 되어 재해 복구 시나리오에서 사용을 하기 때문에 하나 이상의 도메인 컨트롤러에 대 한 실제 액세스 된 사용할 수는 또는 도메인 컨트롤러를 원격으로 액세스할 수 있는 권한이 있는 다른 계정을 사용할 수 있도록으로 예상 됩니다.  

##### <a name="configure-auditing-of-built-in-administrator-accounts"></a>기본 제공 관리자 계정 감사 구성

각 도메인의 관리자 계정 보안을 한 옵션을 비활성화 하는 경우 계정에 대 한 변경 내용을 모니터링할 감사를 구성 해야 합니다. 계정이 활성화 되어, 암호를 다시 설정, 계정에 모든 수정 내용이 사용자 또는 조직에서 사고 대응 팀 외에도 AD DS의 관리를 담당 하는 팀에 알림은 보내야 합니다.  

### <a name="securing-administrators-domain-admins-and-enterprise-admins-groups"></a>관리자, Domain Admins 및 Enterprise Admins 그룹 보안

#### <a name="securing-enterprise-admin-groups"></a>엔터프라이즈 관리자 그룹의 보안 설정

앞에서 설명한 대로 보안이 제공 및에 포리스트 루트 도메인에 들어, Enterprise Admins 그룹 도메인의 로컬 관리자 계정의 예외일 수 있음 일상적으로 사용자를 포함 해야 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  

EA 액세스 해야 할 때 Enterprise Admins 그룹에 계정을 가진 EA 권한 및 사용 해야 하는 사용자를 일시적으로 배치 되어야 합니다. 하지만 사용자가 매우 강력한 권한의 계정을 사용 하는, 해당 활동을 감사 하 고 가급적 실수로 오용 또는 잘못 된 구성이 가능성을 최소화 하기 위해 변경 내용을 수행 하는 한 사용자 및 변경 되는 내용을 다른 사용자를 사용 하 여 수행 해야 합니다. 활동이 완료 되 면 하는 경우는 계정은 EA 그룹에서 제거 해야 합니다. 이 수동 절차를 통해 수행할 수 있습니다 및 프로세스, 타사 identity/액세스 권한을된 관리 (PIM/PAM) 소프트웨어 또는 둘의 조합을 설명 합니다. 제공 Active Directory의 권한 있는 그룹의 구성원 자격을 제어할 사용할 수 있는 계정 만들기에 대 한 지침 [매력적인 계정 자격 증명 도난에 대 한](../../../ad-ds/plan/security-best-practices/Attractive-Accounts-for-Credential-Theft.md) 에서 자세한 지침을 제공 하 고 [부록 i: 관리 계정 만들기 Active Directory의 보호 된 계정 및 그룹에 대 한](../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md)합니다.  

엔터프라이즈 관리자는 기본적으로 포리스트의 각 도메인에 기본 제공 Administrators 그룹의 구성원입니다. 각 도메인의 관리자 그룹에서 Enterprise Admins 그룹을 제거는 포리스트 재해 복구 시나리오에서 발생할 경우 EA 권한이 필요할 수도 있으므로 부적절 한는 수정입니다. Enterprise Admins 그룹에는 포리스트에 있는 Administrators 그룹에서 제거한, 각 도메인의 관리자 그룹에 추가 되어야 하 고 다음과 같은 추가 컨트롤을 구현 해야 합니다.  

- Enterprise Admins 그룹에 설명 된 대로 보안을 유지 해야 하는 포리스트 루트 도메인 관리자 계정의 예외일 수 있음 일상적으로 사용자를 포함 해야 앞에서 설명한 대로 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  
- 구성원 서버 및 워크스테이션 각 도메인에 포함 된 Ou에 연결 된 Gpo, EA 그룹 다음 사용자 권한을 추가 해야 합니다.  
   - 네트워크에서 이 컴퓨터 액세스 거부  
   - 일괄 작업으로 로그온 거부  
   - 서비스로 로그온 거부  
   - 로컬 로그온 거부  
   - 원격 데스크톱 서비스를 통한 로그온을 거부 합니다.  

이렇게 하면 EA 그룹의 구성원으로 구성원 서버 및 워크스테이션에 로그온 하지 것입니다. 점프 서버 도메인 컨트롤러와 Active Directory 관리를 사용할 경우에 제한적인 Gpo 연결 되지 않은 OU에 점프 서버가 있는지 확인 합니다.  

- 감사는 EA 그룹의 구성원 또는 속성을 수정한 경우 경고를 보내도록 구성 되어야 합니다. 이러한 경고 전송 되는 여기에 최소한 사용자 또는 팀 Active Directory 관리와 사고 응답을 담당 합니다. 프로세스 및 절차 일시적으로 그룹의 합법적인 채우기가 수행 하는 경우에 알림 절차를 포함 하는 EA 그룹을 채우기 위한 정의 해야 합니다.  
  
#### <a name="securing-domain-admins-groups"></a>도메인 관리자 그룹의 보안 설정

Enterprise Admins 그룹의 경우 처럼 Domain Admins 그룹의 구성원 자격 빌드 또는 재해 복구 시나리오에만 받아야 합니다. 있어야 일상적인 사용자 계정이 없는 도메인에 대 한 로컬 관리자 계정 제외 하 고 DA 그룹에 설명 된 대로 보안이 설정 되었을 경우 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  
  
DA 액세스 해야 할 때 해당 도메인에 대 한 DA 그룹에이 수준의 액세스 권한 필요로 하는 계정을 일시적으로 배치 되어야 합니다. 사용자가 매우 강력한 권한의 계정을 사용 하는, 있지만 활동을 감사 하 고 가급적 실수로 오용 또는 잘못 된 구성이 가능성을 최소화 하기 위해 변경 내용을 수행 하는 한 사용자 및 변경 되는 내용을 다른 사용자를 사용 하 여 수행 해야 합니다. 활동이 완료 되 면 하는 경우는 계정은 Domain Admins 그룹에서 제거 해야 합니다. 이 수동 절차를 통해 수행할 수 있습니다 및 타사 identity/액세스 권한을된 관리 (PIM/PAM) 소프트웨어를 통해 프로세스 또는 둘의 조합을 설명 합니다. 제공 Active Directory의 권한 있는 그룹의 구성원 자격을 제어할 사용할 수 있는 계정 만들기에 대 한 지침 [부록 i: 관리 계정 만들기 Active Directory의 보호 된 계정 및 그룹에 대 한](../../../ad-ds/manage/component-updates/../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md)합니다.  
  
Domain Admins는 기본적으로 모든 구성원 서버 및 워크스테이션의 해당 도메인에 로컬 관리자 그룹의 구성원입니다. 이 기본 중첩 지원 가능성 및 재해 복구 옵션에 영향을 주므로 수정할 수 없습니다. Domain Admins 그룹 구성원 서버에서 로컬 관리자 그룹에서 제거 되었으면, 각 멤버 서버와 연결 된 Gpo의 제한 그룹 설정을 통해 도메인에 워크스테이션에서 관리자 그룹에 추가 되어야 합니다. 다음과 같은 일반적인 컨트롤에서 자세히 설명 되어 있는 [부록 f: 보안 도메인 관리자 그룹에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory.md) 도 구현 해야 합니다.  

포리스트의 각 도메인에서 Domain Admins 그룹:  

1. 에 설명 된 대로 보안이 설정 된 경우 DA 그룹은 도메인에 대 한 기본 제공 관리자 계정의 예외일 수 있음에서 모든 구성원을 제거 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  
2. 구성원 서버 및 워크스테이션 각 도메인에 포함 된 Ou에 연결 된 Gpo, DA 그룹 다음 사용자 권한을 추가 해야 합니다.  
   - 네트워크에서 이 컴퓨터 액세스 거부  
   - 일괄 작업으로 로그온 거부  
   - 서비스로 로그온 거부  
   - 로컬 로그온 거부  
   - 원격 데스크톱 서비스를 통한 로그온 거부  
  
   이렇게 하면 DA 그룹의 구성원으로 구성원 서버 및 워크스테이션에 로그온 하지 것입니다. 점프 서버 도메인 컨트롤러와 Active Directory 관리를 사용할 경우에 제한적인 Gpo 연결 되지 않은 OU에 점프 서버가 있는지 확인 합니다.  

3. 감사는 DA 그룹의 구성원 또는 속성을 수정한 경우 경고를 보내도록 구성 되어야 합니다. 이러한 경고 전송 되는 여기에 최소한 사용자 또는 팀에 AD DS 관리와 사고 응답을 담당 합니다. 프로세스 및 절차 일시적으로 그룹의 합법적인 채우기가 수행 하는 경우에 알림 절차를 포함 하는 DA 그룹을 채우기 위한 정의 해야 합니다.  

#### <a name="securing-administrators-groups-in-active-directory"></a>Active Directory에서 관리자 그룹의 보안 설정

EA 및 DA 그룹의 경우 처럼 빌드 또는 재해 복구 시나리오에만 관리자 (BA) 그룹의 멤버 자격이 받아야 합니다. 있어야 일상적인 사용자 계정이 없는 도메인에 대 한 로컬 관리자 계정 제외 하 고 Administrators 그룹에 설명 된 대로 보안이 설정 되었을 경우 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  

관리자가 액세스 해야 할 때 해당 도메인에 대 한 관리자 그룹에이 수준의 액세스 권한 필요로 하는 계정을 일시적으로 배치 되어야 합니다. 사용자가 매우 강력한 권한의 계정을 사용 하는, 있지만 활동 감사와, 가급적 실수로 오용 또는 잘못 된 구성이 가능성을 최소화 하기 위해 변경 내용을 수행 하는 사용자 및 변경 되는 내용을 다른 사용자를 사용 하 여 수행 합니다. 때 활동이 완료 되 면 계정은 관리자 그룹에서 즉시 제거 해야 합니다. 이 수동 절차를 통해 수행할 수 있습니다 및 타사 identity/액세스 권한을된 관리 (PIM/PAM) 소프트웨어를 통해 프로세스 또는 둘의 조합을 설명 합니다.  

관리자는 기본적으로 대부분의 각 도메인의 AD DS 개체의 소유자입니다. 이 그룹의 멤버 소유권 또는 기능 개체의 소유권을 필요는 빌드 및 재해 복구 시나리오에 필요할 수 있습니다. 또한 DAs 및 EAs에는 다양 한 해당 권한 및 관리자 그룹의 해당 기본 멤버 자격을 통해 권한을 상속합니다. Active Directory의 권한 있는 그룹을 수정 하지 않아야에 대 한 중첩 된 그룹으로 기본 지정 되며 각 도메인의 관리자 그룹에 설명 된 대로 보호 되어야 합니다 [부록 g: 보안 관리자가 Active Directory의에서 그룹](../../../ad-ds/plan/security-best-practices/Appendix-G--Securing-Administrators-Groups-in-Active-Directory.md), 및 일반 아래 지침에 나와 있습니다.  

1. 에 설명 된 대로 보안이 설정 되었습니다 제공 관리자 그룹의 도메인에 대 한 로컬 관리자 계정의 예외일 수 있음에서 모든 구성원을 제거 [부록 d: 보안 기본 제공 관리자 계정에 Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)합니다.  
2. 도메인의 관리자 그룹의 구성원은 구성원 서버 또는 워크스테이션에 로그온 할 필요는 없습니다. 워크스테이션 및 구성원 서버 각 도메인의 Ou에 연결 된 하나 이상의 Gpo, Administrators 그룹 다음 사용자 권한을 추가 해야 합니다.  
   - 네트워크에서 이 컴퓨터 액세스 거부  
   - 일괄 작업으로 로그온 거부  
   - 서비스로 로그온 거부  
   - 이 오류로 인해 Administrators 그룹의 구성원에서 로그온 하거나 (하지 않는 한 여러 개의 컨트롤은 위반 처음) 구성원 서버 또는 워크스테이션에 연결 하는 데 사용 되 고, 여기서 자격 증명 수 캐시 하 고 있으므로 노출 합니다. 권한 있는 계정 권한이 적은 시스템에 로그온 할 사용할 수 해야 수 없으며 이러한 컨트롤을 강제 적용은 많은 공격에 대 한 보호를 제공 합니다.  

3. 에 다음 사용자 관리자 그룹은 포리스트의 각 도메인의 OU 부여 해야 하는 도메인 컨트롤러 (아직 없는 이러한 권한을) 하는 경우 권한, 포리스트 전체 재해 복구 시나리오에 필요한 기능을 수행 하려면 Administrators 그룹의 멤버 수:  
   - 네트워크에서 이 컴퓨터 액세스  
   - 로컬 로그온 허용  
   - 원격 데스크톱 서비스를 통한 로그온 허용  

4. 감사 관리자 그룹의 구성원 또는 속성을 수정한 경우 경고를 보내도록 구성 되어야 합니다. 이러한 경고 전송 되는 여기에 최소한 AD DS 관리를 담당 하는 팀의 멤버입니다. 알림을 보내야 보안 팀의 구성원에 게 및 Administrators 그룹의 멤버 자격을 수정 하기 위한 절차를 정의 해야 합니다. 특히, 이러한 프로세스는 보안 팀에 알렸습니다 했을 때 관리자 그룹은 수정할 수 있으므로 경고를 보낼 경우 예상 되는 및 경보 발생 하지는 프로시저를 포함 해야 합니다. 또한 Administrators 그룹의 사용이 완료 되 고 사용 하는 계정 그룹에서 제거 된 경우 보안 팀에 알리기 위해 프로세스를 구현 합니다.  

> [!NOTE]  
> Gpo의 Administrators 그룹에 제한 사항이 구현 하는 경우 Windows 도메인의 관리자 그룹 외에도 컴퓨터의 로컬 관리자 그룹의 구성원에 게 설정을 적용 합니다. 따라서 Administrators 그룹에 제한을 구현 하는 경우 주의 사용 해야 합니다. 로컬 로그온 이나 로그온 원격 데스크톱 서비스를 통해 관리자 그룹의 구성원은 네트워크, 배치 및 서비스 로그온을 차단 하면는 구현 하는 것이 가능한 아무 곳에 나 하는 것이 좋습니다, 하지만 제한 하지 않습니다. 이러한 로그온 유형은 차단 로컬 관리자 그룹의 구성원으로 컴퓨터의 합법적인 관리를 차단할 수 있습니다. 기본 제공 로컬 또는 도메인 관리자 그룹의 오용 외에도 도메인 관리자 계정 및 다음 스크린 샷에서 구성 설정의 기본 제공 악용을 차단 하는 로컬 보여 줍니다. 이때는 **원격 데스크톱 서비스를 통한 로그온 거부** 사용자 권한을 포함 하 여이 설정에는 로컬 컴퓨터의 Administrators 그룹의 구성원 인 계정에 대 한 이러한 로그온 차단도 하기 때문에 관리자 그룹 포함 되지 않습니다. 컴퓨터의 서비스가이 섹션에 설명 된 권한 있는 그룹의 컨텍스트에서 실행 되도록 구성 된 경우 이러한 설정을 구현 하면 서비스와 응용 프로그램에 오류가 발생할 수 있습니다. 따라서이 섹션에서 권장 하는 모든와 마찬가지로 철저히 테스트 해야 적용 가능성에 대 한 설정을 사용자 환경에서.  
>
> ![최소 권한 관리자 모델](media/Implementing-Least-Privilege-Administrative-Models/SAD_3.gif)  

### <a name="role-based-access-controls-rbac-for-active-directory"></a>Active Directory에 대 한 역할 기반 액세스 제어 (RBAC)

일반적으로 역할 기반 액세스 제어 (RBAC)는 사용자를 그룹화 하 고 비즈니스 규칙에 따라 리소스에 대 한 액세스를 제공 하기 위한 메커니즘을 사용 합니다. Active Directory의 경우 역할의 구성원은 과도 한 권한 부여 하지 않고 일상적인 관리 작업을 수행할 수 있도록 권한 및 사용을 위임 하는 역할을 만드는 과정은 AD DS에 대 한 RBAC를 구현 합니다. Active Directory에 대 한 RBAC 설계 하 고 타사 제품 또는 이러한 방법의 조합이 구매 하 여 이미 소유 수는 소프트웨어를 활용 하 여 기본 도구 및 인터페이스를 통해 구현 될 수 있습니다. 이 섹션 Active Directory에 대 한 RBAC를 구현 하기 위한 단계별 지침을 제공 하지는 않지만 대신 AD DS 설치 프로그램에서 RBAC를 구현 하는 데 접근 방식을 선택에 고려 사항에 설명 합니다.  

#### <a name="native-approaches-to-rbac-for-active-directory"></a>네이티브 Active Directory에 대 한 RBAC 방법

가장 간단한 RBAC 구현에서 AD DS 그룹으로 역할을 구현할 수 있으며 권한 및 역할의 지정 된 범위 내에서 일상적인 관리를 수행 하도록 허용 하는 그룹에 권한을 위임할 수 있습니다.  

경우에 따라 Active Directory의 기존 보안 그룹 권한 및 작업 함수에 적절 한 권한을 부여 하 사용할 수 있습니다. 예를 들어 IT 조직에 특정 직원 관리 및 유지 관리 DNS 영역 및 레코드에 대 한 책임이 이러한 책임을 위임 수 각 DNS 관리자에 대 한 계정을 만드는 Active Directory의 DNS 관리자 그룹에 추가 하는 작업 만큼 간단 합니다. 보다 높은 권한의 그룹과 달리 DNS 관리자 그룹에는 Active Directory에 대 한 몇 가지 강력한 권한이 있지만이 그룹의 구성원은 DNS를 관리할 수 있는 권한을 위임 받았습니다. 그러나 여전히 손상 및 남용의 영향을 받을 수 있습니다.

그 밖의 경우 보안 그룹을 만들고 지정 된 관리 작업을 수행할 권한 및 그룹의 멤버 수 있도록 Active Directory 개체, 파일 시스템 개체 및 레지스트리 개체에 대 한 권한을 위임 해야 합니다. 예를 들어 헬프 데스크 연산자 인 잊어버린된 암호 다시 설정 하는 일을 담당 하는 경우 연결 문제가 있는 사용자를 지원 하 고, 애플리케이션 설정 문제를 해결 해야 기술 지원팀 사용자가 사용자의 구성 설정을 보거나 수정 하려면 사용자의 컴퓨터에 원격으로 연결할 수 있는 권한을 가진 Active Directory의 사용자 개체에서 위임 설정을 결합 합니다. 정의한 각 역할에 대해 식별 해야 합니다.  

1. 어떤 작업 역할의 구성원은 매일 하 고 있는 작업은 덜 자주 수행에서 수행 합니다.  
2. 애플리케이션에서 시스템을 켜고 권한 및 사용 역할의 구성원이 부여 됩니다.  
3. 사용자 역할의 멤버 자격이 부여 됩니다.  
4. 어떻게 관리 역할 멤버 자격에 수행 됩니다.  

대부분의 환경에서 Active Directory 환경 관리에 대 한 역할 기반 액세스 제어를 직접 만든 하기 어려울 수 있습니다 구현 및 유지 관리 합니다. 역할 및 책임 IT 인프라의 관리에 대 한 명확 하 게 정의 된 경우에 관리 가능한 네이티브 RBAC 배포를 만드는에 도움을 주는 추가 도구를 활용 하는 것이 좋습니다. 예를 들어 Forefront Identity Manager (FIM)를 사용자 환경에서 사용 중인 경우에 생성 및 지속적인 관리를 줄일 수 있는 관리자 역할의 채우기를 자동화할 FIM을 사용할 수 있습니다. Microsoft Endpoint Configuration Manager 및 System Center Operations Manager (SCOM)를 사용 하는 경우 응용 프로그램 관련 역할을 사용 하 여 관리 및 모니터링 기능을 위임할 수 있으며 도메인의 시스템 간에 일관 된 구성 및 감사를 적용할 수도 있습니다. 공개 키 인프라 (PKI)를 구현한 경우에 실행할 수 있으며 환경 관리를 담당 하는 IT 직원에 대 한 스마트 카드를 요구 수 있습니다. FIM 자격 증명 관리 FIM CM ()를 사용 하 여 관리 직원에 대 한 역할 및 자격 증명의 관리를 조합할 수도 있습니다.  

다른 경우에 "기본적으로" 기능을 제공 하는 타사 RBAC 소프트웨어 배포를 고려 하는 것이 좋습니다.이 수 있습니다. Active Directory, Windows 및 Windows가 아닌 디렉터리 및 운영 체제에 대 한 RBAC에 대 한 상용 되어 있어 (COTS) 솔루션은 여러 공급 업체에서 제공 됩니다. 네이티브 솔루션과 타사 제품을 선택할 때 다음과 같은 요소를 고려해 야 합니다.  

1. 예산: 소프트웨어 및 수를 이미 소유 하는 도구를 사용 하 여 rbac 개발에 투자를 하 여 솔루션을 배포 하는 데 필요한 소프트웨어 비용을 줄일 수 있습니다. 그러나 직원을 만들고 기본 RBAC 솔루션 배포 경험이 없다면 솔루션을 개발 하는 컨설팅 리소스를 연결 하는 데 할 수 있습니다. 신중 하 게 제한 된 예산 하는 경우에 특히 비용 "기본적으로" 솔루션을 배포 하는 사용자 지정 개발 솔루션에 대 한 예상된 비용을 평가 해야 합니다.  
2. IT 환경의 구성: 경우 주로 Windows 시스템의 해당 환경이 구성 되어 또는 비 Windows 시스템 및 계정 관리에 대 한 Active Directory를 이미 활용 하 고, 경우 기본 사용자 지정 솔루션 요구 사항에 대 한 최적의 솔루션을 제공할 수 있습니다. Windows를 실행 하지 않는 및 Active Directory에서 관리 되지 않는 여러 시스템을 포함 하는 인프라, Active Directory 환경에서 별도로 비 Windows 시스템의 관리에 대 한 옵션을 고려해 야 할 수 있습니다.  
3. 솔루션의 권한 모델: 제품이 Active Directory의 높은 권한 있는 그룹에 서비스 계정을 배치 하는 데 사용 되 고 과도 한 권한이 필요 하지 않은 옵션을 RBAC 소프트웨어에 부여할 수 없는 경우 Active Directory 공격 노출 영역을 줄일 수 없습니다. 디렉터리에서 가장 권한 있는 그룹의 컴퍼지션을 변경 했습니다. 애플리케이션 공급 업체 손상 및 악의적으로 사용 되는 계정의 확률을 최소화 하는 서비스 계정에 대 한 컨트롤을 제공할 수를 하지 않는 한 다른 옵션을 고려 하는 것이 좋습니다.  

### <a name="privileged-identity-management"></a>Privileged Identity Management

Id 관리 (PIM) 권한을 가진, 라고도를 권한 있는 계정으로 PAM (관리) 또는 특권 수준의 자격 증명 관리 (PCM)는 디자인, 생성,이 고 권한 있는 인프라에는 계정 관리 하는 방법의 구현입니다. 일반적으로 말해 PIM는 계정에는 임시 권한 부여 되었는지 하는 메커니즘을 제공 하 고 권한을 계정에 연결 된 영구적으로 유지 하는 대신 함수를 빌드 또는 중단을 수행 하는 데 필요한 사용 권한을 수정 합니다. PIM 기능이 수동으로 만들어지거나 타사 소프트웨어 배포를 통해 구현 되는지 여부는 다음 기능 중 하나 이상을 사용할 수 있습니다.  
  
- "자격 증명 모음을" 권한 있는 계정의 암호를 "체크 아웃" 고 초기 암호가 할당 후 "체크 인" 때 활동이 완료 되 면 되는 시간에 암호는 계정에 재설정 다시 된 자격 증명입니다.  
- 권한이 있는 자격 증명의 사용에 대 한 시간 범위 제한  
- 자격 증명 한 번 사용  
- 만료 된의 모니터링 및 보고 수행 되는 활동 및 권한 자동 제거 활동을 완료 하거나 시간을 할당 하는 경우 권한 부여 워크플로 생성  
- 필요에 따라 자격 증명 모음에서 검색할 자격 증명을 허용 하는 대체 하는 애플리케이션 프로그래밍 인터페이스 (Api)로 스크립트에 사용자 이름 및 암호와 같은 하드 코딩 자격 증명  
- 서비스 계정 자격 증명의 자동 관리  

### <a name="creating-unprivileged-accounts-to-manage-privileged-accounts"></a>권한 있는 계정을 관리 하 특권된 계정 만들기

권한 있는 계정 관리의 과제 중 하나는, 기본적으로 권한 있는 및 보호 된 계정을 관리할 수 있는 계정 및 그룹은 권한이 있는 계정을 보호 합니다. Active Directory 설치에 대 한 적절 한 RBAC 및 PIM 솔루션을 구현 하는 경우 솔루션 일시적 으로만 및 필요한 경우 그룹을 채우는 디렉터리에 가장 권한이 있는 그룹의 구성원을 효과적으로 내용을 수 있도록 하는 방법을 포함 될 수 있습니다.  

하지만 네이티브 RBAC 및 PIM을 구현 하면 필요할 때 Active Directory에 권한이 없는 유일한 함수 채우기 및 권한이 해체에 그룹화 하는 계정을 만드는 고려해 야 합니다. [부록 i: Active Directory의 보호 된 계정 및 그룹에 대해서는 만들기 관리 계정을](../../../ad-ds/manage/component-updates/../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md) 이 목적을 위해 계정을 만드는 데 사용할 수 있는 단계별 지침을 제공 합니다.  

### <a name="implementing-robust-authentication-controls"></a>강력한 인증 제어 구현

*법률 번호 6: 사용자가 암호를 추측 하려고 할 것입니다.* - [10 가지 불변의 보안 관리 법칙](https://technet.microsoft.com/library/cc722488.aspx)  

해시를 전달 및 기타 자격 증명 도난 공격 Windows 운영 체제에 한정 되지 않는 하거나 새로운 않습니다. 1997 년의 첫 번째 해시를 전달 공격을 만들었습니다. 그러나 지금까지 이러한 공격 필수 사용자 지정 된 도구의 성공에 hit-or-miss 된와 필수 공격자가 상대적으로 높은 수준의 기술을 포함할 수 있습니다. 최근 몇 년 동안 수와 자격 증명 도난 공격의 성공에 매우 길어집니다 자격 증명을 고유 하 게 추출 하는 도구를 무료로 사용할 수 있는, 사용 하기 쉬운 도입이 되었습니다. 그러나 자격 증명 도난 공격은 유일한 메커니즘은 자격 증명이 대상으로 하 고 손상 있지는 않습니다.  

자격 증명 도난 공격 으로부터 보호 하는 컨트롤을 구현 해야 하지만, 공격자가 대상으로 가장 가능성이 있는 환경에서 계정을 식별 해야 고 해당 계정에 대 한 강력한 인증 제어를 구현 해야 합니다. 가장 권한이 있는 계정 사용자 이름 및 암호와 같은 단일 요소 인증을 사용 하는 경우 (둘 다를 경우 "알아보았으며,"는 것은 한 가지 인증 요소), 이러한 계정 약한 보호 됩니다. 공격자가 필요로 하는 모든 것은 사용자 이름 및 계정에 연결 된 암호에 대 한 정보를 알고 있으며, 해시 전달 공격은 필요 하지 않습니다. 공격자는 단일 요소 자격 증명을 허용 하는 시스템에 대해 사용자로 인증할 수 있습니다.  

Multi-factor authentication을 구현 해도 해시 통과 공격 으로부터 사용자를 보호 하지는 않지만 보호 된 시스템과 함께 multi-factor authentication을 구현 하는 것은 가능 합니다. 보호 된 시스템을 구현 하는 방법에 대 한 자세한 정보가 제공 됩니다 [보안을 유지 관리 호스트 구현](../../../ad-ds/plan/security-best-practices/Implementing-Secure-Administrative-Hosts.md), 인증 옵션은 다음 섹션에서 설명 합니다.  

#### <a name="general-authentication-controls"></a>일반 인증 제어

스마트 카드와 같은 multi-factor authentication을 아직 구현 하지 않은 경우에는이 작업을 수행 하는 것이 좋습니다. 스마트 카드 액세스 되거나 사용자가 적절한 핀, 암호 또는 생체 인식 식별자 스마트 카드를 제시하지 않은 경우 사용되는 사용자의 프라이빗 키를 방지합니다. 공개-프라이빗 키 쌍의 프라이빗 키의 보호 하드웨어 적용을 구현합니다. PIN 또는 암호를 다시 사용 하는 공격자가 공격에 노출 된 컴퓨터에서 키 입력으로 거 하 여 사용자의 PIN 또는 암호를 가로채는 경우에 카드 주변에 없는 수도 있어야 합니다.

스마트 카드는 길고 복잡 한 암호가 입증 된 사용자의 저항 때문에 구현 하기 어려운 경우에는 사용자가 구현할 수 있습니다 비교적 단순 Pin 또는 암호 무차별 암호 대입 또는 레인 보우 테이블 공격에 취약 되 고 자격 증명 없이 메커니즘을 제공 합니다. 스마트 카드 Pin 자격 증명 해시에 스마트 카드에 사용 된 인증 하는 컴퓨터에서 보호 하는 LSASS 메모리에 계속 저장 될 수 있지만 Active Directory 또는 로컬 SAM 데이터베이스를 저장 되지 않습니다.  

#### <a name="additional-controls-for-vip-accounts"></a>VIP 계정에 대 한 추가 제어

스마트 카드 또는 기타 인증서 기반 인증 메커니즘을 구현 하는 또 다른 이점은 VIP 사용자에 액세스할 수 있는 중요 한 데이터를 보호 하는 인증 메커니즘 보증을 활용할 수 있습니다. 인증 메커니즘 보증 기능 수준을 Windows Server 2012 또는 Windows Server 2008 r 2에 설정 되어 있는 도메인에서 제공 됩니다. 사용 하는 경우 인증서 기반 로그온 메서드를 사용 하 여 로그온 하는 동안 사용자의 자격 증명이 인증 하는 경우 인증 메커니즘 보증 사용자의 Kerberos 토큰에는 관리자가 지정 된 글로벌 그룹 구성원을 추가 합니다.  

이렇게 하면 리소스 관리자가 파일, 폴더, 프린터, 사용자가 로그온 인증서 기반 메서드를 사용 하는 인증서의 형식 외에도 사용 하 여 로그온 여부에 따라 등의 리소스에 대 한 액세스를 제어할 수 있습니다. 예를 들어 사용자가 스마트 카드를 사용 하 여 로그온 할 때 네트워크에 있는 리소스에 대 한 사용자의 액세스로 지정할 수 있습니다 다른 어떤 액세스에서는 사용자가 스마트 카드를 사용 하지 않는 경우 (즉, 로그온 할 때 사용자는 사용자 이름 및 암호를 입력 하 여). 인증 메커니즘 보증 하는 방법에 대 한 자세한 내용은 참조는 [Windows Server 2008 R2 단계별 가이드에서 AD DS에 대 한 인증 메커니즘 보증](https://technet.microsoft.com/library/dd378897.aspx)합니다.  

#### <a name="configuring-privileged-account-authentication"></a>권한 있는 계정 인증 구성

모든 관리 계정에 대 한 Active Directory를 통해는 **대화형 로그온에 스마트 카드 필요** 특성 및 변경 (최소한)에 대 한 감사 특성에 **계정** 관리 사용자 개체 (예: cn, 이름, sAMAccountName, userPrincipalName, 및 userAccountControl) 계정에 대 한 탭 합니다.  

계정에 대 **한 대화형 로그온에 스마트 카드 필요** 를 설정 하는 경우 계정 암호를 120 문자 임의 값으로 다시 설정 하 고 대화형 로그온을 위해 스마트 카드를 요구 하지만, 계정에 대 한 암호를 변경할 수 있는 권한이 있는 사용자가 특성을 덮어쓸 수 있으며,이 계정은 사용자 이름과 암호만 사용 하 여 비 대화형 로그온을 설정 하는 데 사용할 수 있습니다.  

다른 경우에서의 구성에 따라 계정을 Active Directory 인증서 서비스 (AD CS) 또는 제 3 자 PKI, 이름 UPN (사용자 계정)의 Active Directory 및 인증서 설정에 대 한 특성 관리 또는 VIP 계정을 여기에서 설명한 대로 특정 종류의 공격 대상이 될 수 있습니다.  

##### <a name="upn-hijacking-for-certificate-spoofing"></a>인증서 스푸핑 UPN 가로채기

공개 키 인프라 (PKI)에 대 한 공격에 대 한 자세한 설명은이 문서의 범위 밖에 없지만, 공용 및 프라이빗 PKI에 대 한 공격 2008 이후 기하급수적으로 증가 했습니다. 공용 Pki의 침해는 되었습니다 광범위 하 게 당하기 전에 있지만 조직의 내부 PKI에 대 한 공격이 훨씬 더 많이 아마도. 이러한 한 가지 공격 공격자가 감지 하기가 어려울 수 있는 방식으로 다른 계정의 자격 증명을 스푸핑할 수 있도록 Active Directory와 인증서를 활용 합니다.  

도메인에 가입 된 시스템에 인증을 위해 표시 되는 인증서 주체 또는 인증서의 주체 대체 이름 (SAN) 특성의 내용은 Active Directory에서 사용자 개체에 인증서 매핑 사용 됩니다. 인증서 및 생성 방법의 종류에 따라 인증서의 주체 특성 일반적으로 포함 되어 사용자의 CN (일반 이름), 다음 스크린 샷에 표시 된 것 처럼 합니다.  

![최소 권한 관리자 모델](media/Implementing-Least-Privilege-Administrative-Models/SAD_4.gif)  

기본적으로 Active Directory 계정의 이름에 연결 하 여 사용자의 CN를 생성 + "" + 마지막 이름입니다. 그러나 Active Directory의 사용자 개체의 CN 구성 요소 필요 하거나, 고유 하지 고 이전 스크린샷의 아래쪽 창에 표시 된 대로 디렉터리에서 개체의 전체 경로 계정의 고유 이름 (DN) 변경 사용자 계정을 디렉터리에 다른 위치로 이동 합니다.  

인증서 주체 이름이 정적 이거나 고유 아닐, 때문에 Active Directory에서 사용자 개체를 찾을 주체 대체 이름의 내용은 자주 사용 됩니다. (Active Directory는 Ca를 통합 하는 데 사용) 엔터프라이즈 인증 기관에서 사용자에 게 발급 된 인증서의 SAN 특성 일반적으로 사용자의 UPN 또는 전자 메일 주소를 포함 합니다. 고유 하 게 AD DS 포리스트에서 upn이 보장 되며 때문에는 UPN 하 여 사용자 개체를 찾기는 일반적으로 인증 프로세스에 포함 된 인증서 없이 인증의 일부로 수행 됩니다.  

사기성 인증서를 가져올 때 공격자가 인증 인증서의 SAN 특성에서이 도구 사용을 활용할 수 있습니다. 공격자가 읽고 Upn 사용자 개체에 쓸 수 있는 계정을 손상 공격 다음과 같이 구현 됩니다.  

UPN 특성 (예: VIP 사용자)의 사용자 개체를 다른 값으로 일시적으로 변경 됩니다. 아니지만 일반적으로 앞에서 설명한 이유 때문에 필요한 SAM 계정 이름 특성 및 CN이 이번에 변경할 수도 있습니다.  

대상 계정에 UPN 특성 변경 되었을 때 유효 하지 않은, 사용 가능한 사용자 계정이 나 새로 만든된 사용자 계정의 UPN 특성 원래 대상 계정에 할당 된 값으로 변경 됩니다. 오래 된, 사용 가능한 사용자 계정이 계정 비활성화 되어 있지 않지만 오랜 시간 동안 로그온 하지 않았습니다. 다음과 같은 이유로 "어둡다에서 숨기기" 하려고 하는 경우 공격자가 된 대상으로 합니다.  

1. 계정이 활성화 되어 있지만 최근에 사용 되지 않은, 때문에 계정을 사용 하 여 어렵습니다 트리거 경고 방식으로 사용할 수 없는 사용자 계정을 사용할 수 있게 될 수 있습니다.  
2. 기존 계정을 사용 하 여 관리 담당자가 발견 않을 수 있는 새 사용자 계정 만드는 필요 하지 않습니다.  
3. 오래 된 사용자 계정에는 여전히 사용할 수는 일반적으로 다양 한 보안 그룹의 구성원 및 액세스를 단순화 하 고 "혼합"는 기존 사용자 집단을 네트워크의 리소스에 액세스 권한이 부여 됩니다.  

대상 UPN 이제에 구성 된 사용자 계정 Active Directory 인증서 서비스에서 하나 이상의 인증서를 요청 하기 위해 사용 됩니다.  

공격자의 계정에 대 한 인증서를 얻은 경우 "new" 계정 및 대상 계정에 upn이 원래 값으로 반환 됩니다.  

공격자가 사용자가 해당 계정이 일시적으로 수정 된 VIP 사용자 인 경우와 인증 리소스 및 애플리케이션을 표시할 수 있는 하나 이상의 인증서 설정 되었습니다. 이 공격 메커니즘 권한 및 변경 특성에 대 한 특히 변경에 대 한 AD DS에 VIP 계정에서 모니터링 해야 하는 이유를 설명 하기 위해 제공 됩니다 모든는 인증서와 PKI 대상으로 지정할 수 공격자가 하는 방법에 대 한 자세한 내용은이 문서의 범위를 벗어난 되어도 **계정** (예: 계정에 대 한 탭 cn, 이름, sAMAccountName, userPrincipalName, 및 userAccountControl). 계정을 모니터링 하는 것 외에도 작은으로 계정을 관리자에 게 최대한의 집합을 수정할 수 있는 사람을 제한 해야 합니다. 마찬가지로, 관리자가 사용자의 계정은 보호 고 허가 되지 않은 변경에 대 한 모니터링 해야 합니다.  
