---
ms.assetid: 98c5ef45-2bcb-4f87-86c8-5ac6c16a6097
title: 토큰 서명 인증서
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 24b095827ad074dbe249a9d4decd8edeecbb3603
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80858786"
---
# <a name="token-signing-certificates"></a>토큰 서명 인증서

페더레이션 서버에 토큰 필요\-공격자가 변경 하거나 연결 된 리소스에 무단으로 액세스 하기 위해에서 보안 토큰을 위조 방지 하기 위해 인증서를 서명 합니다. Private\/쌍으로 연결 하는 공개 키 토큰으로 사용 됩니다\-서명 인증서 이므로 모든 페더레이션된 파트너 관계의 가장 중요 한 유효성 검사 메커니즘은 이러한 키는 유효한 파트너 페더레이션 서버에서 보안 토큰을 발행 하 고 토큰이 전송 되는 동안 수정 되지 않았음을 확인 합니다.  
  
## <a name="token-signing-certificate-requirements"></a>토큰\-서명 인증서 요구 사항  
토큰\-서명 인증서는 AD FS와 연동 하는 다음 요구 사항을 충족 해야 합니다.  
  
-   토큰에 대 한\-서명 인증서를 성공적으로 보안 토큰에 토큰을 서명\-서명 인증서 프라이빗 키가 포함 되어야 합니다.  
  
-   AD FS 서비스 계정에는 로컬 컴퓨터의 개인 저장소에 있는 서명 인증서의 개인 키를\-는 토큰에 대 한 액세스 권한이 있어야 합니다. 이 알아서 설치 합니다. AD FS 관리 스냅인을 사용할 수도 있습니다\-토큰 변경 해도이 액세스할 수 있도록에\-서명 인증서.  
  
> [!NOTE]  
> 공개 키 인프라는 \(PKI\) 여러 가지 용도 대 한 프라이빗 키를 공유 하지 모범 사례입니다. 따라서 토큰으로 페더레이션 서버에 설치 하는 서비스 통신 인증서를 사용 하지 않는\-서명 인증서.  
  
## <a name="how-token-signing-certificates-are-used-across-partners"></a>어떻게 토큰\-서명 인증서를 사용 하 여 파트너 간에  
모든 토큰\-암호화 프라이빗 키와 디지털 서명하는 데 사용되는 공개 키 포함 서명 인증서 \(프라이빗 키를 사용하여\) 보안 토큰입니다. 나중에 파트너 페더레이션 서버에서 수신 된 후 이러한 키 인증 유효성 검사 \(공개 키를 사용 하 여\) 암호화 된 보안 토큰입니다.  
  
각 보안 토큰의 디지털 서명을 하는 계정 파트너, 때문에 리소스 파트너는 계정 파트너에서 실제로 보안 토큰을 발행 하 고 수정 되지 않았는지 확인할 수 있습니다. 디지털 서명은 파트너 토큰\-서명 인증서의 공개 키 부분으로 확인 됩니다. 서명을 확인 하 고 해당 조직에 대 한 자체 보안 토큰을 생성 하는 리소스 페더레이션 서버 자체 토큰으로 보안 토큰에 서명 후\-서명 인증서.  
  
페더레이션 파트너 환경에 대 한 때 토큰\-CA에서 서명 인증서를 발급 되어 있는지 확인 합니다.  
  
1.  인증서 해지 목록 \(Crl\) 인증서는 신뢰 당사자 및 페더레이션 서버를 신뢰 하는 웹 서버에 액세스할 수 있습니다.  
  
2.  루트 CA 인증서는 신뢰 당사자 및 페더레이션 서버를 신뢰 하는 웹 서버에서 신뢰지 않습니다.  
  
토큰의 공개 키를 사용 하는 웹 서버는 리소스 파트너의\-서명 인증서는 보안 토큰 리소스 페더레이션 서버에 의해 서명 되었는지 확인 합니다. 웹 서버는 다음 클라이언트에 대 한 적절 한 액세스를 허용합니다.  
  
## <a name="deployment-considerations-for-token-signing-certificates"></a>토큰에 대 한 배포 고려 사항\-서명 인증서  
새 AD FS 설치에서 첫 번째 페더레이션 서버를 배포할 때 토큰을 얻어야\-서명 인증서 및 해당 페더레이션 서버의 로컬 컴퓨터 개인 인증서 저장소에 설치 합니다. 토큰을 가져올 수\-엔터프라이즈에서 하나를 요청 하 여 인증서 서명 CA 또는 공용 CA에서 자체를 만들어\-서명 된 인증서입니다.  
  
AD FS 팜을 배포 하는 경우 토큰\-서명 인증서가 서버 팜을 만드는 방법에 따라 다르게 설치 됩니다.  
  
두 가지 서버 팜 옵션이 얻을 때 고려할 수 있는 토큰\-배포를 위한 인증서를 서명 합니다.  
  
-   하나의 토큰에서 프라이빗 키\-팜의 모든 페더레이션 서버 서명 인증서가 공유 합니다.  
  
    페더레이션 서버 팜 환경에서 모든 페더레이션 서버에서 공유 하는 권장 \(다시 사용할 수 있도록\) 동일한 토큰\-서명 인증서. 단일 토큰을 설치할 수 있습니다\-페더레이션 서버에 설치 된 CA에서 인증서 서명 및 발급 된 인증서를 내보낼는으로 다음 프라이빗 키를 내보냅니다.  
  
    표시된 것 처럼 다음 그림에서는 단일에서 프라이빗 키에서 토큰\-팜의 모든 페더레이션 서버에 서명 인증서를 공유할 수 있습니다. 이 옵션-다음에 비해 "고유 토큰\-서명 인증서" 옵션-토큰을 가져오려는 경우 비용을 절감\-공용 CA에서 인증서를 서명 합니다.  
  
![토큰 서명](media/adfs2_fedserver_certstory_3.gif)  
  
-   고유한 토큰이\-팜의 각 페더레이션 서버에 대 한 인증서를 서명 합니다.  
  
    여러 개를 사용하는 경우 해당 팜의 각 서버에서에서 팜의 전체에서 고유한 인증서는 자신의 고유한 프라이빗 키로 토큰에 서명 합니다.  
  
    다음 그림에 표시 된 것과 같이 별도 토큰을 가져올 수 있습니다\-는 팜에 있는 모든 단일 페더레이션 서버에 대 한 인증서를 서명 합니다. 이 옵션은 토큰을 획득 하려면 비용이 많이 드는\-공용 CA에서 인증서를 서명 합니다.  
  
![토큰 서명](media/adfs2_fedserver_certstory_4.gif)  
  
Microsoft 인증서 서비스를 엔터프라이즈 CA로 사용 하는 경우 인증서를 설치 하는 방법에 대 한 자세한 내용은 [iis 7.0: iis 7.0에서 도메인 서버 인증서 만들기](https://go.microsoft.com/fwlink/?LinkId=108548)를 참조 하세요.  
  
공용 CA에서 인증서를 설치 하는 방법에 대 한 자세한 내용은 [IIS 7.0: 인터넷 서버 인증서 요청](https://go.microsoft.com/fwlink/?LinkId=108549)을 참조 하십시오.  
  
자체\-서명 된 인증서를 설치 하는 방법에 대 한 자세한 내용은 [iis 7.0: iis 7.0에서 자체\-서명 된 서버 인증서 만들기](https://go.microsoft.com/fwlink/?LinkID=108271)를 참조 하세요.  
  
## <a name="see-also"></a>참고 항목
[Windows Server 2012의 AD FS 디자인 가이드](AD-FS-Design-Guide-in-Windows-Server-2012.md)
