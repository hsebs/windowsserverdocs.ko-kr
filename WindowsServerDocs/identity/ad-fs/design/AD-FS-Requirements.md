---
ms.assetid: 8ce6e7c4-cf8e-4b55-980c-048fea28d50f
title: SQL Server를 사용하는 페더레이션 서버 팜
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 9f8375ffb73ff6be290b534d59e6ce5c8a7be27b
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80858066"
---
# <a name="ad-fs-requirements"></a>AD FS 요구 사항

다음은 AD FS를 배포 하는 경우를 준수 해야 하는 다양 한 요구 사항:  
  
-   5\. 인증서가 RD 게이트웨이에 대한 요구 사항을 충족하면 [설치](AD-FS-Requirements.md#BKMK_1)를 클릭합니다.  
  
-   [하드웨어 요구 사항](AD-FS-Requirements.md#BKMK_2)  
  
-   [소프트웨어 요구 사항](AD-FS-Requirements.md#BKMK_3)  
  
-   [AD DS 요구 사항](AD-FS-Requirements.md#BKMK_4)  
  
-   [구성 데이터베이스 요구 사항](AD-FS-Requirements.md#BKMK_5)  
  
-   [브라우저 요구 사항](AD-FS-Requirements.md#BKMK_6)  
  
-   [엑스트라넷 요구 사항](AD-FS-Requirements.md#BKMK_extranet)  
  
-   [네트워크 요구 사항](AD-FS-Requirements.md#BKMK_7)  
  
-   [특성 저장소 요구 사항](AD-FS-Requirements.md#BKMK_8)  
  
-   [응용 프로그램 요구 사항](AD-FS-Requirements.md#BKMK_9)  
  
-   [인증 요구 사항](AD-FS-Requirements.md#BKMK_10)  
  
-   [작업 공간 연결 요구 사항](AD-FS-Requirements.md#BKMK_11)  
  
-   [암호화 요구 사항](AD-FS-Requirements.md#BKMK_12)  
  
-   [권한 요구 사항](AD-FS-Requirements.md#BKMK_13)  
  
## <a name="certificate-requirements"></a><a name="BKMK_1"></a>인증서 요구 사항  
인증서는 가장 중요 한 역할 간의 보안 통신에 페더레이션 서버, 웹 응용 프로그램 프록시, 클레임\-인식 응용 프로그램 및 웹 클라이언트입니다. 인증서 요구 사항은 여부를 설정 하는 페더레이션 서버 또는 프록시 컴퓨터에이 섹션에 설명 된 대로 따라 달라 집니다.  
  
**페더레이션 서버 인증서**  
  
|||  
|-|-|  
|**인증서 유형**|**요구 사항, 알아야 할 & 지원**|  
|**Secure Sockets Layer \(SSL\) 인증서:** 페더레이션 서버와 클라이언트 간의 보안 통신에 사용 되는 표준 SSL 인증서입니다.|-이 인증서는 공개적으로 신뢰할 수 있어야 합니다.\* X509 v3 인증서입니다.<br />-모든 AD FS 엔드포인트에 액세스 하는 모든 클라이언트는이 인증서를 신뢰 해야 합니다. 공용에서 발급 한 인증서를 사용 하는 것이 좋습니다 강력한 \(세 번째\-파티\) 인증 기관 \(CA\)합니다. 자체를 사용할 수 있습니다\-테스트 랩 환경에서 SSL 인증서에 성공적으로 페더레이션 서버를 등록 합니다. 그러나 프로덕션 환경에서는 공용 CA에서 인증서를 얻는 것이 좋습니다.<br />-SSL 인증서에 대 한 Windows Server 2012 r 2에서 지 원하는 모든 키 크기를 지원 합니다.<br />-인증서를 지원 하지 CNG 키를 사용 하는 않습니다.<br />-작업 공간 참여와 함께 사용 하는 경우\/장치 등록 서비스를 AD FS 서비스에 대 한 SSL 인증서의 주체 대체 이름에 있는 사용자 계정 이름 뒤에 오는 값 enterpriseregistration 포함 해야 \(UPN\) 는 조직의 예: enterpriseregistration.contoso.com 합니다.<br />-와일드 카드 인증서 지원 됩니다. AD FS 서비스에 대 한 서비스 이름을 제공 하 라는 메시지가 표시 AD FS 팜을 만들면 \(예를 들어 **adfs.contoso.com**합니다.<br />-이 웹 응용 프로그램 프록시에 대 한 동일한 SSL 인증서를 사용 하 여 좋습니다. 그러나이 **필요한** 웹 응용 프로그램 프록시를 통한 및 확장 된 보호 인증을 설정 하는 경우 Windows 통합 인증 끝점을 지원할 때 동일한 것으로 \(기본 설정은\)합니다.<br />이 인증서의 주체 이름-배포 하는 AD FS의 각 인스턴스에 대 한 페더레이션 서비스 이름을 나타내는 데 사용 됩니다. 이러한 이유로 하려는 경우 모든 새 CA에서 주체 이름을 선택 하는 것이 좋습니다.\-가장 회사 또는 조직의 파트너의 이름을 나타내는 인증서를 발행 합니다.<br />    인증서의 id는 페더레이션 서비스 이름과 일치 해야 \(예: fs.contoso.com\)합니다. Id는 dnsname 형식의 중 하나는 주체 대체 이름 확장 또는 주체 대체 이름 항목이 없는 경우, 일반 이름으로 지정 된 주체 이름입니다. 그 중 하나가 페더레이션 서비스 이름과 일치 하는 경우에 여러 주체 대체 이름 항목이 인증서에 사용할 수 있습니다.<br />-   **중요:** AD FS 팜의 모든 웹 응용 프로그램 프록시 뿐만 아니라 AD FS 팜의 모든 노드에서 동일한 SSL 인증서를 사용 하는 것이 좋습니다.|  
|**서비스 통신 인증서:** 이 인증서는 페더레이션 서버 간의 통신 보안에 대 한 메시지 보안 WCF를 사용 합니다.|-기본적으로 SSL 인증서는 서비스 통신 인증서로 사용 됩니다.  하지만 서비스 통신 인증서로 다른 인증서를 구성 하는 옵션도 있습니다.<br />-   **중요:** ssl 인증서를 서비스 통신 인증서로 사용 하는 경우 ssl 인증서가 만료 되는 경우 갱신 된 ssl 인증서를 서비스 통신 인증서로 구성 해야 합니다. 이 자동으로 발생 하지 않습니다.<br />-WCF 메시지 보안을 사용 하는 AD FS의 클라이언트가이 인증서를 신뢰 해야 합니다.<br />-권장 공용 발급 하는 서버 인증 인증서를 사용 하 여 \(세 번째\-파티\) 인증 기관 \(CA\)합니다.<br />-서비스 통신 인증서에 CNG 키를 사용 하는 인증서 수 없습니다.<br />-이 인증서는 AD FS 관리 콘솔을 사용 하 여 관리할 수 있습니다.|  
|**토큰\-서명 인증서:** 이 표준 X509 페더레이션 서버에서 발급 하는 모든 토큰의 보안 서명에 사용 되는 인증서입니다.|-기본적으로 AD FS에서 자체를 만듭니다\-2048 비트 키로 서명 된 인증서입니다.<br />-CA를 발급 한 인증서는 지원 되 고 AD FS 관리 스냅인을 사용 하 여 변경할 수 있습니다\-에서<br />-CA 인증서를 발급 한 저장 & CSP 암호화 공급자를 통해 액세스할 수 있어야 합니다.<br />-토큰 서명 인증서에 CNG 키를 사용 하는 인증서 수 없습니다.<br />-AD FS 토큰 서명 하는 것에 대 한 외부에서 등록 된 인증서를 필요 하지 않습니다.<br />    AD FS를 자동으로 갱신 이러한 자체\-서명 된 인증서 만료 되기 전에, 먼저 자동 호출 프로세스의 주를 했으니, 파트너에 대 한 허용 하도록 보조 인증서 인증서 롤오버로 서 새 인증서를 구성 합니다. 기본적으로 자동으로 생성 된 인증서를 토큰 서명에 사용 하는 것이 좋습니다.<br />    조직에서는 구성할 수 있는 다른 인증서를 토큰 서명에 필요한 정책, Powershell을 사용 하 여 설치 시간에 인증서를 지정할 수 있습니다 \(설치의 – SigningCertificateThumbprint 매개 변수를 사용 하 여\-AdfsFarm cmdlet\)합니다.  설치 후 확인 하 고 관리할 수는 AD FS 관리 콘솔 또는 Powershell cmdlet 집합을 사용 하 여 토큰 서명 인증서\-AdfsCertificate 및 Get\-AdfsCertificate 합니다.<br />    외부에서 등록 된 인증서를 토큰 서명에 사용 되는 경우 AD FS 인증서 자동 갱신 또는 롤오버 수행 하지 않습니다.  이 프로세스는 관리자가 수행 되어야 합니다.<br />    위해 인증서 롤오버에 대 한 하나의 인증서가 만료 되 면 보조 토큰 서명 인증서가 AD FS에서 구성할 수 있습니다. 기본적으로 모든 토큰 서명 인증서는 페더레이션 메타 데이터는 있지만 기본 토큰만에 게시 된\-서명 인증서가 사용 되는 AD FS에서 실제로 토큰을 서명 합니다.|  
|**토큰\-암호 해독\/암호화 인증서:** 이 표준 X509 인증서 암호를 해독 하는 데 사용 되는\/들어오는 토큰을 암호화 합니다. 이 인증서는 페더레이션 메타데이터에도 게시됩니다.|-기본적으로 AD FS에서 자체를 만듭니다\-2048 비트 키로 서명 된 인증서입니다.<br />-CA를 발급 한 인증서는 지원 되 고 AD FS 관리 스냅인을 사용 하 여 변경할 수 있습니다\-에서<br />-CA 인증서를 발급 한 저장 & CSP 암호화 공급자를 통해 액세스할 수 있어야 합니다.<br />-토큰\-암호 해독\/암호화 인증서에 CNG 키를 사용 하는 인증서 수 없습니다.<br />-기본적으로 AD FS를 생성 하 고 자체를 사용 하 여 내부적으로 생성 되 고 자체\-토큰 암호 해독에 대 한 인증서를 서명 합니다.  AD FS는이 목적을 위해 외부에서 등록 된 인증서를 필요 하지 않습니다.<br />    또한 AD FS를 자동으로 갱신 이러한 자체\-만료 되기 전에 인증서를 서명 합니다.<br />    **토큰 암호 해독에 대해 자동으로 생성 된 기본 인증서를 사용 하는 것이 좋습니다.**<br />    조직에서 토큰 암호 해독에 대해 구성할 수 있는 다른 인증서를 요구 하는 정책이 하는 경우 Powershell을 사용 하 여 설치 시간에 인증서를 지정할 수 있습니다 \(설치의 – DecryptionCertificateThumbprint 매개 변수를 사용 하 여\-AdfsFarm cmdlet\)합니다.  설치 후 확인 하 고 관리할 수는 AD FS 관리 콘솔 또는 Powershell cmdlet 집합을 사용 하 여 토큰 암호 해독 인증서\-AdfsCertificate 및 Get\-AdfsCertificate 합니다.<br />    **외부에서 등록 된 인증서가 토큰 암호 해독에 사용 되는 경우 AD FS는 자동 인증서 갱신을 수행 하지 않습니다.  이 프로세스는 관리자가 수행 해야 합니다**.<br />-AD FS 서비스 계정에는 로컬 컴퓨터의 개인 저장소에 있는 서명 인증서의 개인 키를\-는 토큰에 대 한 액세스 권한이 있어야 합니다. 이 알아서 설치 합니다. AD FS 관리 스냅인을 사용할 수도 있습니다\-토큰 변경 해도이 액세스할 수 있도록에\-서명 인증서.|  
  
> [!CAUTION]  
> 토큰에 사용 되는 인증서\-서명 및 토큰\-해독\/암호화 하는 것은 페더레이션 서비스의 안정성에 중요 합니다. 자신의 토큰을 관리 하는 고객\-서명 및 토큰\-해독\/이러한 인증서는 백업 하 고 사용할 수 없는 독립적으로 복구 이벤트를 사용 하는 동안 확인 해야 인증서를 암호화 합니다.  
  
> [!NOTE]  
> AD FS에서 보안 해시 알고리즘을 변경할 수 있습니다 \(SHA\) 어느 SHA 디지털 서명에 사용 되는 수준\-1 또는 SHA\-256 \(보다 안전한\)합니다. AD FS m d 5와 같은 다른 해시 메서드와 함께 인증서의 사용을 지원 하지 않는 \(Makecert.exe 명령은 함께 사용 되는 기본 해시 알고리즘\-선 도구\)합니다. 최상의 보안을 s h A를 사용 하는 것이 좋습니다\-256 \(기본적으로 설정 된\) 모든 서명 합니다. S h A\-1이 s h A를 사용 하 여 통신을 지원 하지 않는 제품과 함께 운용 해야 하는 경우에만 사용 하기 위해 권장\-같은 비 256\-AD FS의 Microsoft 제품 또는 레거시 버전입니다.  
  
> [!NOTE]  
> CA에서 인증서를 받은 후에는 모든 인증서를 로컬 컴퓨터의 개인 인증서 저장소로 가져와야 합니다. 인증서 MMC 스냅인을 사용 하 여 개인 저장소에 인증서를 가져올 수\-에 있습니다.  
  
## <a name="hardware-requirements"></a><a name="BKMK_2"></a>하드웨어 요구 사항  
다음 최소 및 권장 하드웨어 요구 사항은 Windows Server 2012 r 2의 AD FS 페더레이션 서버에 적용 됩니다.  
  
||||  
|-|-|-|  
|**하드웨어 요구 사항**|**최소 요구 사항**|**권장 요구 사항**|  
|CPU 속도|1.4 GHz 64\-비트 프로세서|쿼드\-코어, 2Ghz|  
|RAM|512MB|4GB|  
|디스크 공간|32GB|100GB|  
  
## <a name="software-requirements"></a><a name="BKMK_3"></a>소프트웨어 요구 사항  
다음 AD FS 요구 사항은 Windows Server&reg; 2012 R2 운영 체제에 기본 제공 되는 서버 기능에 대 한 것입니다.  
  
-   엑스트라넷 액세스의 경우 Windows Server&reg; 2012 R2 원격 액세스 서버 역할의 일부 \- 웹 응용 프로그램 프록시 역할 서비스를 배포 해야 합니다. 이전 버전의 페더레이션 서버 프록시는 Windows Server&reg; 2012 r 2에서 AD FS 지원 되지 않습니다.  
  
-   페더레이션 서버 및 웹 응용 프로그램 프록시 역할 서비스를 동일한 컴퓨터에 설치할 수 없습니다.  
  
## <a name="ad-ds-requirements"></a><a name="BKMK_4"></a>AD DS 요구 사항  
**도메인 컨트롤러 요구 사항**  
  
모든 사용자 도메인 및 AD FS 서버 가입 된 도메인의 도메인 컨트롤러 2008 이상 Windows Server를 실행 되어야 합니다.  
  
> [!NOTE]  
> Windows Server 2003 도메인 컨트롤러와 환경에 대 한 모든 지원이 확장 지원 종료 날짜에 대 한 Windows Server 2003 후에 종료 됩니다. 가능한 한 빨리 해당 도메인 컨트롤러를 업그레이드 하려면 고객을 사용 하는 것이 좋습니다. 방문 [이 페이지](https://support.microsoft.com/lifecycle/search/default.aspx?sort=PN&alpha=Windows+Server+2003&Filter=FilterNO) Microsoft 지원 기간에 대 한 추가 정보입니다. 발견 된 문제 수 있는 Windows Server 2003 도메인 컨트롤러 환경에 특정 한 수정 프로그램이 실행 될 보안 문제에 대해서만 하 고 수정 프로그램을 확장 지원 Windows Server 2003의 만료 되기 전에 실행 될 수 있습니다.  



>[!NOTE]
> AD FS 읽기 전용 도메인 컨트롤러와는 달리 완전히 쓰기 가능한 도메인 컨트롤러가 필요 합니다. 계획 된 토폴로지에 읽기 전용 도메인 컨트롤러가 포함 된 경우 읽기 전용 도메인 컨트롤러를 인증에 사용할 수 있지만 LDAP 클레임 처리에는 쓰기 가능한 도메인 컨트롤러에 대 한 연결이 필요 합니다.
  
**도메인 기능\-수준 요구 사항**  
  
모든 사용자 계정 도메인 및 AD FS 서버 가입 된 도메인의 Windows Server 2003 이상 도메인 기능 수준에서 작동 해야 합니다.  
  
대부분의 AD FS 기능은 AD DS 기능을 사용 하지 않아도\-수준 성공적으로 작동 하도록 수정 합니다. 그러나 인증서가 AD DS의 사용자 계정에 명시적으로 매핑된 경우에는 Windows Server 2008 도메인 기능 수준 이상이 있어야 클라이언트 인증서 인증이 작동합니다.  
  
**스키마 요구 사항**  
  
-   AD FS에서는 스키마를 변경 하거나 기능\-수준 수정이 AD DS 필요가 없습니다.  
  
-   작업 공간 연결 기능을 사용 하려면 AD FS 서버에 가입 된 포리스트의 스키마를 Windows Server 2012 r 2로 설정 되어야 합니다.  
  
**서비스 계정 요구 사항**  
  
-   모든 표준 서비스 계정은 AD FS에 대 한 서비스 계정으로 사용할 수 있습니다. 그룹 관리 서비스 계정은 지원 됩니다. 이렇게 하려면 하나 이상의 도메인 컨트롤러 \(두 개 이상 배포 하는 것이 좋습니다.\) Windows Server 2012 이상을 실행 합니다.  
  
-   도메인\-조인 된 클라이언트와 AD FS 간에 Kerberos 인증이 작동 하려면 ' 호스트\/< adfs\_서비스\_이름 > '를 서비스 계정에 SPN으로 등록 해야 합니다. 기본적으로 AD FS이 키를 구성 하기에 충분 한 권한이이 작업을 수행할 경우 새 AD FS 팜을 만들 때.  
  
-   AD FS 서비스 계정이 AD FS 서비스를 인증 하는 사용자를 포함 하는 모든 사용자 도메인에서 신뢰 되어야 합니다.  
  
**도메인 요구 사항**  
  
-   모든 AD FS 서버는 AD DS 도메인에 조인 이어야 합니다.  
  
-   모든 AD FS 서버 팜 내에서 단일 도메인에 배포 되어야 합니다.  
  
-   AD FS 서버에 가입 된 도메인에는 AD FS 서비스에 인증 하는 사용자가 포함 된 모든 사용자 계정 도메인을 신뢰 해야 합니다.  
  
**다중 포리스트 요구 사항**  
  
-   모든 사용자 계정 도메인 이나 포리스트의 AD FS 서비스에 인증 하는 사용자가 포함 된 AD FS 서버에 가입 된 도메인 신뢰 해야 합니다.  
  
-   AD FS 서비스 계정이 AD FS 서비스를 인증 하는 사용자를 포함 하는 모든 사용자 도메인에서 신뢰 되어야 합니다.  
  
## <a name="configuration-database-requirements"></a><a name="BKMK_5"></a>구성 데이터베이스 요구 사항  
다음은 요구 사항 및 구성 저장소의 형식에 따라 적용 되는 제한:  
  
**WID**  
  
-   WID 팜에 100 개 이하인 신뢰 당사자 트러스트를 설정한 경우 페더레이션 서버를 30 제한 됩니다.  
  
-   SAML 2.0에서 아티팩트 확인 프로필 WID 구성 데이터베이스에서 지원 되지 않습니다.  토큰 재생 검색 WID 구성 데이터베이스에서 지원 되지 않습니다. 이 기능은 AD FS는 페더레이션 공급자 역할을 하 고 외부 클레임 공급자의 보안 토큰을 사용 하는 경우에만 사용 됩니다.  
  
-   센터 장애 조치에 대 한 고유 데이터에 대 한 AD FS 서버를 배포 하거나 서버 수가 30를 초과 하지 않는으로 지원 되는 지리적 부하 분산 합니다.  
  
다음 표에서 WID 팜 사용에 대 한 요약을 제공 합니다.  구현 계획을 사용 합니다.  
  
||||  
|-|-|-|  
||1 \- 100 RP 트러스트|100 개가 넘는 RP 트러스트|  
|1 \- 30 AD FS 노드|WID 지원|WID를 사용 하 여 지원 되지 않는 \- 필요한 SQL|  
|개 이상의 30 AD FS 노드|WID를 사용 하 여 지원 되지 않는 \- 필요한 SQL|WID를 사용 하 여 지원 되지 않는 \- 필요한 SQL|  
  
**SQL Server**  
  
Windows Server 2012 r 2의 AD FS SQL Server 2008 이상을 사용할 수 있습니다.  
  
## <a name="browser-requirements"></a><a name="BKMK_6"></a>브라우저 요구 사항  
브라우저 또는 브라우저 컨트롤을 통해 AD FS 인증을 수행할 때는 브라우저 다음 요구 사항을 준수 해야 합니다.  
  
-   JavaScript은 사용 하도록 설정  
  
-   쿠키를 켜야 합니다.  
  
-   서버 이름 표시 \(SNI\) 지원 되어야 합니다  
  
-   사용자 인증서 및 장치 인증서 인증을 위해 \(작업 공간 조인 기능\), 브라우저 SSL 클라이언트 인증서 인증을 지원 해야 합니다  
  
몇 가지 주요 브라우저 및 플랫폼 세부 사항으로는 아래 나열 된 렌더링 및 기능에 대 한 유효성 검사를 종류입니다. 위에 나열 된 요구 사항을 충족 하는 경우에 브라우저 및이 테이블에 포함 되지 않은 디바이스 지원 계속 됩니다.  
  
|||  
|-|-|  
|**브라우저나**|**플랫폼**|  
|IE 10.0|Windows 7, Windows 8.1, Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2|  
|IE 11.0|Windows 7의 경우, Windows 8.1, Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2|  
|Windows 웹 인증 브로커|Windows 8.1|  
|Firefox \[v21\]|Windows 7, Windows 8.1|  
|Safari \[v7\]|iOS 6, Mac OS\-X 10.7|  
|Chrome \[v27\]|Windows 7, Windows 8.1, Windows Server 2012, Windows Server 2012 R2, Mac OS\-X 10.7|  
  
> [!IMPORTANT]  
> 알려진 문제 \- Firefox: 장치 인증서를 사용 하 여 장치를 식별 하는 작업 공간 연결 기능 Windows 플랫폼에서 작동 하지 않습니다. Firefox는 SSL 클라이언트 인증서 인증을 수행할 Windows 클라이언트에서 사용자 인증서 저장소에 프로 비전 인증서를 사용 하 여 현재 지원 되지 않습니다.  
  
**쿠키**  
  
AD FS 세션을 만듭니다\-기호를 제공 하는 클라이언트 컴퓨터에 저장 해야 하는 기반 및 영구 쿠키\-로그인\-single sign out,\-에 \(SSO\), 및 기타 기능입니다. 따라서 클라이언트 브라우저가 쿠키를 허용하도록 구성되어야 합니다. 인증에 사용 되는 쿠키는 항상 Secure Hypertext Transfer Protocol \(HTTPS\) 원래 서버에는 작성 된 세션 쿠키입니다. 클라이언트 브라우저가 이러한 쿠키를 허용하도록 구성되지 않으면 AD FS가 올바르게 작동할 수 없습니다. 영구 쿠키는 사용자가 선택한 클레임 공급자를 유지하는 데 사용됩니다. AD FS 로그인에 대 한 구성 파일에서 구성 설정을 사용 하 여 해제할 수 있습니다\-페이지에 있습니다. TLS에 대 한 지원\/보안상의 이유 때문에 SSL이 필요 합니다.  
  
## <a name="extranet-requirements"></a><a name="BKMK_extranet"></a>엑스트라넷 요구 사항  
AD FS 서비스에 대 한 엑스트라넷 액세스를 제공 하려면 배포한 웹 응용 프로그램 프록시 역할 서비스 엑스트라넷 연결 역할을 프록시 인증 요청을 사용 하는 AD FS 서비스를 안전한 방식. 에서는 AD FS 서비스 끝점의 격리와 모든 보안 키의 격리 \(토큰 서명 인증서와 같은\) 인터넷에서 발생 하는 요청에서. 또한 엑스트라넷 소프트 계정 잠금 등의 기능에는 웹 응용 프로그램 프록시의 사용을 해야합니다. 웹 응용 프로그램 프록시에 대 한 자세한 내용은 참조 [웹 응용 프로그램 프록시](https://technet.microsoft.com/library/dn584107.aspx)합니다.  
  
엑스트라넷 액세스에 세 번째\-파티 프록시를 사용 하려는 경우이 세 번째\-파티 프록시는 [http:\/\/download.microsoft.com\/download\/9\/5\/E\/95EF66AF\-9026\-4BB0\-A41D\-A4F81802D92C\/% 5bMS\-ADFSPIP %5 d .pdf](https://download.microsoft.com/download/9/5/E/95EF66AF-9026-4BB0-A41D-A4F81802D92C/%5bMS-ADFSPIP%5d.pdf)에 정의 된 프로토콜을 지원 해야 합니다.  
  
## <a name="network-requirements"></a><a name="BKMK_7"></a>네트워크 요구 사항  
다음 네트워크 서비스를 적절 하 게 구성 하는 것이 조직에서 AD FS의 성공적인 배포에 대 한 중요 합니다.  
  
**회사 방화벽 구성**  
  
웹 응용 프로그램 프록시 및 페더레이션 서버 팜 및 클라이언트와 웹 응용 프로그램 프록시 간의 방화벽 사이 있는 두 방화벽에는 TCP 포트 443을 사용할 수 있어야 합니다. 인바운드 합니다.  
  
또한 클라이언트 사용자 인증서 인증 하는 경우 \(clientTLS 인증 X509를 사용 하 여 사용자 인증서\) 은 필요한 Windows Server 2012 r 2에서 AD FS를 사용 하려면 TCP 포트 49443 수 설정 클라이언트와 웹 응용 프로그램 프록시 간의 방화벽에 인바운드 합니다. 이 웹 응용 프로그램 프록시와 페더레이션 서버 간의 방화벽에 필요 하지 않습니다\)합니다.  

> [!NOTE]
> AD FS 및 웹 응용 프로그램 프록시 서버의 다른 서비스에서 포트 49443을 사용 하지 않는지 확인 합니다.

**DNS 구성**  
  
-   인트라넷 액세스를 위한 AD FS에 액세스 하는 모든 클라이언트는 내부 회사 네트워크 내에서 서비스 \(인트라넷\) AD FS 서비스 이름을 확인할 수 있어야 \(SSL 인증서가 제공한 이름\) AD FS 서버 또는 AD FS 서버에 대 한 부하 분산 장치에 있습니다.  
  
-   엑스트라넷 액세스에 대 한 AD FS에 액세스 하는 모든 클라이언트에서 서비스를 회사 네트워크 외부의 \(엑스트라넷\/인터넷\) AD FS 서비스 이름을 확인할 수 있어야 \(SSL 인증서가 제공한 이름\) 웹 응용 프로그램 프록시 서버 또는 웹 응용 프로그램 프록시 서버에 대 한 부하 분산 장치에 있습니다.  
  
-   제대로 작동 하려면 엑스트라넷 액세스에 대 한 각 웹 응용 프로그램 프록시 서버는 DMZ에 AD FS 서비스 이름을 확인할 수 있어야 \(SSL 인증서가 제공한 이름\) AD FS 서버 또는 AD FS 서버에 대 한 부하 분산 장치에 있습니다. 호스트 파일을 사용 하 여 로컬 서버 해상도 변경 하거나 DMZ 네트워크에 대체 DNS 서버를 사용 하 여 수행할 수 있습니다.  
  
-   네트워크 내부 및 외부 웹 응용 프로그램 프록시를 통해 노출 된 끝점의 하위 집합에 대 한 네트워크 작동 하려면 Windows 통합 인증에 대 한 A 레코드를 사용 해야 \(하지 CNAME\) 부하 분산 장치를 가리키도록 합니다.  
  
페더레이션 서비스에 대해 회사 DNS 및 장치 등록 서비스 구성에 대 한 내용은 참조 [페더레이션 서비스와 DRS에 대해 회사 DNS 구성](https://technet.microsoft.com/library/dn486786.aspx)합니다.  
  
웹 응용 프로그램 프록시에 대 한 회사 DNS를 구성 하는 방법에 대 한 자세한 내용은 [1 단계: 웹 응용 프로그램 프록시 인프라 구성](https://technet.microsoft.com/library/dn383644.aspx)에서 "DNS 구성" 섹션을 참조 하세요.  
  
NLB를 사용 하 여 클러스터 IP 주소 또는 클러스터 FQDN을 구성 하는 방법에 대 한 자세한 내용은 [http:\/\/go.microsoft.com\/fwlink\/에서 클러스터 매개 변수 지정을 참조 하세요. LinkId\=75282](https://go.microsoft.com/fwlink/?LinkId=75282).  
  
## <a name="attribute-store-requirements"></a><a name="BKMK_8"></a>특성 저장소 요구 사항  
AD FS에는 해당 사용자에 대 한 보안 클레임을 추출 하는 사용자를 인증에 사용할 하나 이상의 특성 저장소가 필요 합니다. 특성의 목록이 저장 AD FS는 지원에 대 한 참조 [The 특성 저장소의 역할](../../ad-fs/technical-reference/The-Role-of-Attribute-Stores.md)합니다.  
  
> [!NOTE]  
> AD FS는 기본적으로 "Active Directory" 특성 저장소를 자동으로 만듭니다. 특성 저장소 요구 사항은 여부 조직 역할을 하는 계정 파트너에 종속 \(페더레이션된 사용자를 호스트\) 또는 리소스 파트너 \(페더레이션된 응용 프로그램 호스팅\)합니다.  
  
**LDAP 특성 저장소**  
  
LDAP\)\-기반 특성 저장소를 \(다른 경량 디렉터리 액세스 프로토콜을 사용 하는 경우 Windows 통합 인증을 지 원하는 LDAP 서버에 연결 해야 합니다. 또한 RFC 2255에 설명된 대로 LDAP URL 형식으로 LDAP 연결 문자열을 기록해야 합니다.  
  
또한 AD FS 서비스에 대 한 서비스 계정에는 LDAP 특성 저장소에서 사용자 정보를 검색할 수 있는 권한이 필요 합니다.  
  
**SQL Server 특성 저장소**  
  
Windows Server 2012 r 2의 AD FS 성공적으로 작동 하려면 SQL Server 특성 저장소를 호스트 하는 컴퓨터에서 Microsoft SQL Server 2008 이상을 실행 해야 합니다. SQL을 사용 하 여 작업할 때\-특성 저장소를 기반으로 연결 문자열을 구성 해야 합니다.  
  
**사용자 지정 특성 저장소**  
  
고급 시나리오를 지원하는 사용자 지정 특성 저장소를 개발할 수 있습니다.  
  
-   AD FS에서 기본 제공되는 정책 언어는 다음 시나리오를 향상시킬 수 있도록 사용자 지정 특성 저장소를 참조할 수 있습니다.  
  
    -   로컬로 인증된 사용자에 대한 클레임 만들기  
  
    -   외부에서 인증된 사용자에 대한 클레임 보완  
  
    -   사용자에게 토큰을 가져올 수 있는 권한 부여  
  
    -   서비스에 사용자 대신 토큰을 가져올 수 있는 권한 부여  
  
    -   신뢰 당사자를 AD FS에서 발급 한 보안 토큰의 추가 데이터를 발급 합니다.  
  
-   .NET 4.0을 기반으로 또는 그 보다 높은 모든 사용자 지정 특성 저장소를 빌드해야 합니다.  
  
사용자 지정 특성 저장소를 사용 하는 경우 연결 문자열을 구성 하려면 할 수 있습니다. 이 경우 사용자가 선택한 사용자 지정 특성 저장소에 대 한 연결 수 있게 해 주는 사용자 지정 코드를 입력할 수 있습니다. 이 경우 연결 문자열은 일련의 이름\/쌍의 사용자 지정 특성 저장소 개발자가 구현한 대로 해석 되는 값입니다. 개발 및 사용자 지정 특성 저장소를 사용 하는 방법에 대 한 자세한 내용은 참조 [특성 저장소 개요](https://go.microsoft.com/fwlink/?LinkId=190782)합니다.  
  
## <a name="application-requirements"></a><a name="BKMK_9"></a>응용 프로그램 요구 사항  
AD FS 클레임 지원\-다음 프로토콜을 사용 하는 인식 응용 프로그램:  
  
-   WS\-페더레이션  
  
-   WS\-신뢰  
  
-   IDPLite, SPLite 및 eGov1.5 프로필을 사용 하는 SAML 2.0 프로토콜입니다.  
  
-   OAuth 2.0 권한 부여 프로필  
  
AD FS에서는 인증 및 권한 부여에 대 한 비\-클레임\-웹 응용 프로그램 프록시에 의해 지원 되는 응용 프로그램을 인식 합니다.  
  
## <a name="authentication-requirements"></a><a name="BKMK_10"></a>인증 요구 사항  
**기본 인증 \(인증을 AD DS\)**  
  
AD DS에 대 한 다음과 같은 표준 인증 메커니즘은 인트라넷 액세스를 위한 지원 됩니다.  
  
-   Kerberos 및 NTLM에 대 한 협상을 사용 하 여 Windows 통합 인증  
  
-   폼 인증 사용자 이름을 사용 하 여\/암호  
  
-   AD DS의 사용자 계정에 매핑된 인증서를 사용 하 여 인증서 인증  
  
엑스트라넷 액세스에 대 한 다음 인증 메커니즘이 지원 됩니다.  
  
-   폼 인증 사용자 이름을 사용 하 여\/암호  
  
-   AD DS의 사용자 계정에 매핑되는 인증서를 사용 하 여 인증서 인증  
  
-   Windows 통합 인증 협상을 사용 하 여 \(NTLM만\) ws\-Windows 통합 인증을 허용 하는 끝점을 신뢰 합니다.  
  
인증서 인증의 경우:  
  
-   Pin 보호 될 수 있는 스마트 카드를 확장 합니다.  
  
-   사용자가 pin을 입력 하는 GUI AD FS에서 제공 되지 않았고 TLS 클라이언트를 사용할 때 표시 되는 클라이언트 운영 체제의 일부 여야 하는 데 필요한 합니다.  
  
-   판독기 및 암호화 서비스 공급자 \(CSP\) 에 스마트 카드 브라우저가 있는 컴퓨터에서 작업 해야 합니다.  
  
-   스마트 카드 인증서가 모든 AD FS 서버와 웹 응용 프로그램 프록시 서버에 신뢰할 수 있는 루트에 연결 해야 합니다.  
  
-   인증서가 다음 방법 중 하나를 통해 AD DS의 사용자 계정에 매핑되어야 합니다.  
  
    -   인증서 주체 이름이 AD DS의 사용자 계정에 대한 LDAP 고유 이름에 해당합니다.  
  
    -   인증서 주체 대체 확장에 사용자 계정 이름 \(UPN\) AD DS에서 사용자 계정입니다.  
  
완벽 한 Windows 통합 인증에 대 한 Kerberos는 인트라넷에서 사용 하 여  
  
-   신뢰할 수 있는 사이트나 로컬 인트라넷 사이트의 일부로 서비스 이름이 되어야 합니다.  
  
-   또한 호스트\/< adfs\_서비스\_이름 > AD FS 팜의에서 실행 되는 서비스 계정에 SPN을 설정 해야 합니다.  
  
**Multi-factor Authentication\-multi-factor Authentication**  
  
AD FS는 추가 인증을 지원 \(AD DS에서 지 원하는 기본 인증 초과\) 를 사용 하 여 공급자 모델을 만드는 공급 업체\/고객 자신의 다중을 빌드할 수\-관리자를 등록 하 고 로그인 하는 동안 사용할 수 있는 요소 인증 어댑터.  
  
모든 MFA 어댑터는.NET 4.5를 기반으로 구축 해야 합니다.  
  
MFA에 대 한 자세한 내용은 참조 하십시오. [중요 한 응용 프로그램에 대 한 Multi-factor Authentication 사용 하 여 위험 관리](../../ad-fs/operations/Manage-Risk-with-Additional-Multi-Factor-Authentication-for-Sensitive-Applications.md)합니다.  
  
**장치 인증**  
  
AD FS 디바이스 연결 하는 최종 사용자 작업을 하는 작업 하는 동안 디바이스 등록 서비스에서 프로 비전 인증서를 사용 하 여 디바이스 인증을 지원 합니다.  
  
## <a name="workplace-join-requirements"></a><a name="BKMK_11"></a>작업 공간 연결 요구 사항  
최종 사용자가 작업 공간 연결에 AD FS를 사용 하 여 조직에 자신의 디바이스를 수 있습니다. 이 AD FS에서 장치 등록 서비스에서 지원 됩니다. 결과적으로, 최종 사용자가 AD FS에서 지 원하는 애플리케이션에서 SSO의 추가 이점을 얻을 수 있습니다. 또한 관리자는 작업 공간 조직에 연결 된 디바이스에만 응용 프로그램에 대 한 액세스를 제한 하 여 위험을 관리할 수 있습니다. 다음은이 시나리오를 사용 하도록 설정 하려면 다음 요구 사항입니다.  
  
-   AD FS는 Windows 8.1 및 iOS 5에 대 한 작업 공간 연결을 지원\+ 장치  
  
-   작업 공간 연결 기능을 사용 하려면 AD FS 서버에 가입 된 포리스트의 스키마를 Windows Server 2012 r 2 이어야 합니다.  
  
-   AD FS 서비스에 대 한 SSL 인증서의 주체 대체 이름에 있는 사용자 계정 이름 뒤에 오는 값 enterpriseregistration 있어야 합니다. \(UPN\) enterpriseregistration.corp.contoso.com 예를 들어 사용자 조직의 접미사입니다.  
  
## <a name="cryptography-requirements"></a><a name="BKMK_12"></a>암호화 요구 사항  
다음 표에서 AD FS 토큰 서명, 토큰 암호화에 추가 암호화 지원 정보를 제공\/암호 해독 기능:  
  
||||  
|-|-|-|  
|**알고리즘과**|**키 길이**|**응용 프로그램\/설명\/프로토콜**|  
|TripleDES – Default 192 \(지원 되는 192 – 256\) \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#TripleDES\-cbc](http://www.w3.org/2001/04/xmlenc#tripledes-cbc)|>\= 192|보안 토큰의 암호를 해독 하는 데 지원 되는 알고리즘입니다. 이 알고리즘을 사용 하 여 보안 토큰을 암호화 하는 것은 지원 되지 않습니다.|  
|AES128 \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#AES128\-cbc](http://www.w3.org/2001/04/xmlenc#aes128-cbc)|128|보안 토큰의 암호를 해독 하는 데 지원 되는 알고리즘입니다. 이 알고리즘을 사용 하 여 보안 토큰을 암호화 하는 것은 지원 되지 않습니다.|  
|AES192 \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#AES192\-cbc](http://www.w3.org/2001/04/xmlenc#aes192-cbc)|192|보안 토큰의 암호를 해독 하는 데 지원 되는 알고리즘입니다. 이 알고리즘을 사용 하 여 보안 토큰을 암호화 하는 것은 지원 되지 않습니다.|  
|AES256 \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#AES256\-cbc](http://www.w3.org/2001/04/xmlenc#aes256-cbc)|256|**기본**합니다. 보안 토큰을 암호화 하는 데 지원 되는 알고리즘입니다.|  
|TripleDESKeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#kw\-tripledes](http://www.w3.org/2001/04/xmlenc#kw-tripledes)|.NET 4.0에서 지 원하는 모든 키 크기\+|보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|AES128KeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#kw\-aes128](http://www.w3.org/2001/04/xmlenc#kw-aes128)|128|보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|AES192KeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#kw\-aes192](http://www.w3.org/2001/04/xmlenc#kw-aes192)|192|보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|AES256KeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#kw\-aes256](http://www.w3.org/2001/04/xmlenc#kw-aes256)|256|보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|RsaV15KeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#rsa\-1\_5](http://www.w3.org/2001/04/xmlenc#rsa-1_5)|1024|보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|RsaOaepKeyWrap \- [http:\/\/www.w3.org\/2001\/04\/xmlenc\#rsa\-oaep\-rsa-oaep-mgf1p](http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p)|1024|기본. 보안 토큰을 암호화 하는 대칭 키를 암호화 하는 데 지원 되는 알고리즘입니다.|  
|SHA1\-[http:\/\/www.w3.org\/PICS\/DSig\/SHA1\_1\_0 .html](http://www.w3.org/PICS/DSig/SHA1_1_0.html)|N\/A|아티팩트 SourceId 세대의 AD FS 서버에서 사용:이 시나리오에서 STS는 SHA1 사용 \(SAML 2.0 표준의 권장 조치 당\) 아티팩트 원본에 대 한 짧은 160 비트 값을 만들 수 있습니다.<p>또한 ADFS 웹 에이전트가 WS2003 기간\)의 레거시 구성 요소를 \(하 여 STS에서 정보를 업데이트할 시기를 알 수 있도록 "마지막 업데이트" 시간 값의 변경 내용을 식별 하는 데 사용 됩니다.|  
|SHA1withRSA\-<p>[http:\/\/www.w3.org\/PICS\/DSig\/RSA\-SHA1\_1\_0 .html](http://www.w3.org/PICS/DSig/RSA-SHA1_1_0.html)|N\/A|AD FS 서버 SAML AuthenticationRequest 서명의 유효성을 검사 하는 경우에 사용, 아티팩트 확인 요청 또는 응답에 서명, 토큰 만들기\-서명 인증서.<p>이러한 경우에 s h a 256 기본값이 며, 및 s h a 1은 경우에 사용 파트너 \(신뢰 당사자\) s h a 256을 지원할 수 없는 및 s h a 1을 사용 해야 합니다.|  
  
## <a name="permissions-requirements"></a><a name="BKMK_13"></a>권한 요구 사항  
AD FS를 설치 하 고 초기 구성을 수행 하는 관리자에 게는 로컬 \(도메인의 도메인 관리자 권한 (즉, 페더레이션 서버가 가입 된 도메인)이 있어야 합니다.\)  
  
## <a name="see-also"></a>참고 항목  
[Windows Server 2012 R2의 AD FS 디자인 가이드](AD-FS-Design-Guide-in-Windows-Server-2012-R2.md)  
  
