---
ms.assetid: 7013fc21-9ced-4f9d-9588-cb04d6d60924
title: 페더레이션 서버 용량 계획
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 5801196921c1f7632725dfddb2a5c8c2bf4ae2b5
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80858626"
---
# <a name="planning-for-federation-server-capacity"></a>페더레이션 서버 용량 계획

페더레이션 서버에 대 한 용량 계획을 통해 다음을 예상할 수 있습니다.  
  
-   AD FS 구성 데이터베이스의 크기가 증가 하는 요소입니다.  
  
-   각 페더레이션 서버에 대 한 적절 한 하드웨어 요구 사항  
  
-   각 조직에 놓을 페더레이션 서버 수입니다.  
  
페더레이션 서버는 사용자에 게 보안 토큰을 발급 합니다. 이러한 토큰은 사용을 위해 신뢰 당사자에 게 제공 됩니다. 페더레이션 서버는 사용자를 인증 한 후 또는 파트너 페더레이션 서비스에서 이전에 발급 한 보안 토큰을 받은 후에 보안 토큰을 발급 합니다. 사용자가 페더레이션 응용 프로그램에 처음으로 로그인 하거나 페더레이션 응용 프로그램에 액세스 하는 동안 보안 토큰이 만료 되 면 페더레이션 서비스에서 보안 토큰이 요청 됩니다.  
  
페더레이션 서버는 NLB\) 기술 \(Microsoft 네트워크 부하 분산을 사용 하는\-고가용성 서버 팜 구성을 수용할 수 있도록 설계 되었습니다. 팜 구성의 페더레이션 서버는 각 요청에 대 한 일반적인 팜 구성 요소에 액세스 하지 않고도 요청을 개별적으로 처리 합니다. 따라서 페더레이션 서버 배포를 확장 하는 데는 약간의 오버 헤드가 발생 합니다.  
  
**관련**  
  
-   중요\-중요 하거나 높은\-가용성 배포의 경우 내결함성을 제공 하기 위해 팜 당 두 개 이상의 페더레이션 서버를 사용 하 여 각 파트너 조직에 작은 페더레이션 서버 팜을 만드는 것이 좋습니다.  
  
-   고가용성 및 페더레이션 서버 확장의 용이성을 위해 규모를 확장 하는 것은 특정 페더레이션 서비스에 대해 많은 수의 요청을 처리 하기 위해 권장 되는 방법입니다. 이 가이드의 기본 구성 이상으로 확장 하면 상당한 용량의 처리 이득을 얻을 수 있습니다.  
  
## <a name="ad-fs-configuration-database-size-and-growth"></a>AD FS 구성 데이터베이스 크기 및 증가  
AD FS 구성 데이터베이스의 크기는 일반적으로 작은 것으로 간주 되며 데이터베이스 크기는 AD FS 배포에서 중요 한 고려 사항이 아닙니다.  AD FS 구성 데이터베이스의 정확한 크기는 모든 트러스트에 대해 구성 된 클레임, 클레임 규칙, 모니터링 설정 등의 관련 된 메타 데이터\-와 트러스트 관계의 수에 따라 크게 달라질 수 있습니다. 구성 데이터베이스의 신뢰 항목 수가 증가 함에 따라 더 많은 디스크 공간이 필요 합니다.  
  
AD FS 구성 데이터베이스에 대 한 추가 배포 정보는 [AD FS 배포 토폴로지 고려 사항](AD-FS-Deployment-Topology-Considerations.md)을 참조 하세요.  
  
## <a name="memory-cpu-and-disk-space-requirements"></a>메모리, CPU 및 디스크 공간 요구 사항  
다행히 페더레이션 서버에 대 한 메모리, CPU 및 디스크 공간 요구 사항은 가장 적당 하며 하드웨어 결정에서 구동 요인이 아닐 가능성이 높습니다. 하드웨어 요구 사항에 대 한 자세한 내용은 [부록 a: AD FS 요구 사항 검토](Appendix-A--Reviewing-AD-FS-Requirements.md)를 참조 하세요.  
  
> [!NOTE]  
> AD FS 제품 팀에서 AD FS 구성 데이터베이스를 저장 하는 전용 SQL Server 구성 된 페더레이션 서버 팜을 사용 하 여 수행한 테스트에서 SQL Server의 전체 부하가 경향이. 단일 SQL Server를 사용 하도록 구성 된 4 개의\-페더레이션\-서버 팜을 사용 하는 한 테스트에서 페더레이션 서버를 대상으로 하는 테스트에도 불구 하 고 CPU 사용률이 10%를 초과 하지 않았습니다.  
  
## <a name="estimate-the-number-of-federation-servers-for-your-organization"></a><a name="bk_estimatefs"></a>조직의 페더레이션 서버 수 예측  
페더레이션 서버에 대 한 하드웨어 계획 프로세스를 간소화 하기 위해 AD FS 제품 팀에서 AD FS 용량 계획 크기 조정 스프레드시트를 개발 했습니다. 이 Excel 스프레드시트에는 조직의 사용자에 게 제공 하는 예상 된 사용 현황 데이터를 사용 하 고 AD FS 프로덕션 환경에 대해 권장 되는 최적의 페더레이션 서버 수를 반환 하는 기능과 같은 계산기\-포함 되어 있습니다.  
  
> [!NOTE]  
> 이 스프레드시트가 권장 하는 페더레이션 서버 수는 테스트 하는 동안 AD FS 제품 팀에서 사용 하는 하드웨어 및 네트워크 사양을 기반으로 합니다. 따라서 스프레드시트에서 추천할 페더레이션 서버 수는이 컨텍스트 내에서 파악 해야 합니다.  테스트 중에 사용 되는 사양에 대 한 자세한 내용은 [AD FS 서버 용량 계획](Planning-for-AD-FS-Server-Capacity.md)항목을 참조 하세요.  
  
### <a name="using-the-ad-fs-capacity-planning-sizing-spreadsheet"></a>AD FS 용량 계획 크기 조정 스프레드시트 사용  
이 스프레드시트를 사용 하는 경우 가장 사용량이 많은 기간 중에 페더레이션 서버에 인증 요청을 전송 하는 전체 사용자의 백분율을 가장 잘 나타내는 **40%** , **60%** 또는 **80%** \) \(값을 선택 해야 합니다.  
  
그런 다음 최고 사용 기간을 마지막으로 원하는 시간을 가장 잘 나타내는 **1 분**, **15 분**또는 **1\) 시간** \(값을 선택 해야 합니다. 예를 들어 15 분 내에 로그인 하는 사용자의 총 수에 대 한 값으로 40%를 예측 하거나, 사용자의 60%가 1 시간 이내에 로그인 하 게 할 수 있습니다. 이러한 값을 함께 사용 하면 크기 조정 권장 사항이 계산 되는 최대 부하 프로필을 정의할 수 있습니다.  
  
다음으로, 사용자의 여부에 따라 대상 클레임\-인식 응용 프로그램에 대 한 액세스 시 단일 기호\-필요한 총 사용자 수를 지정 해야 합니다.  
  
-   Windows 통합 인증을 통해 회사 \(네트워크에 물리적으로 연결 된 로컬 컴퓨터에서 Active Directory에 로그인\)  
  
-   Windows 통합 인증 또는 사용자 이름 및 암호를 통해 \(회사 네트워크에 물리적으로 연결 되지 않은 컴퓨터에서 원격으로 Active Directory에 로그인\)  
  
-   다른 조직에서 사용 하 여 신뢰할 수 있는 파트너의 대상 클레임\-인식 응용 프로그램에 액세스 하려고 합니다.  
  
-   SAML 2.0 id 공급자에서 대상 클레임\-인식 응용 프로그램에 액세스 하려고 합니다.  
  
#### <a name="how-to-use-this-spreadsheet"></a>이 스프레드시트를 사용 하는 방법  
배포 하려는 각 페더레이션 서버 팜 인스턴스에 대해 다음 단계를 사용 하 여 권장 되는 페더레이션 서버 수를 결정할 수 있습니다.  
  
1.  Windows server 2012 r 2 용 [AD FS 용량 계획 크기 조정 스프레드시트](https://adfsdocs.blob.core.windows.net/adfs/ADFSCapacityPlanning.xlsx) 또는 [Windows server 2016 용 AD FS 용량 계획 크기 조정 스프레드시트](https://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx)를 다운로드 하 여 엽니다.
  
2.  최대 시스템 사용 기간 중의 오른쪽에 있는 셀에서 **이 비율의 사용자가 셀을 인증할 것으로 예상** 하 고, 셀을 클릭 한 다음, drop\-아래쪽 화살표를 사용 하 여 배포에 대 한 예상 시스템 사용률 수준을 **40%** , **60%** 또는 **80%** 중에서 선택 합니다.  
  
3.  **다음 기간 (time** ) 셀의 오른쪽에 있는 셀에서 셀을 클릭 한 다음 drop\-아래쪽 화살표를 사용 하 여 **1 분**, **15 분**또는 **1 시간** 을 선택 하 여 최대 부하 기간을 선택 합니다.  
  
4.  **SharePoint \(2007 또는 2010\) 또는 클레임 인식 웹 응용 프로그램\)셀과 같은 \(내부 응용 프로그램의 예상 개수 입력** 오른쪽에 있는 셀에 조직에서 사용할 내부 응용 프로그램의 수를 입력 합니다.  
  
5.  **Office 365 Exchange online, SharePoint online 또는 Lync online\)셀과 같은 \(의 예상 온라인 응용 프로그램 수 입력** 오른쪽에 있는 셀에 조직에서 사용 하는 온라인 응용 프로그램 또는 서비스의 수를 입력 합니다.  
  
6.  **사용자 수**에 해당 하는 셀 아래에서 사용자에 게 액세스에 대 한 single sign\-이 필요한 예제 응용 프로그램 시나리오에 적용 되는 각 행에 숫자를 입력 합니다. 이 열은 초당 최대 사용자가 아닌 정의 된 사용자 수를 포함 해야 합니다. 응용 프로그램에 대 한 액세스 시도가 먼저 홈 영역 검색 페이지를 통과 해야 하는 경우 **Y**를 입력 합니다. 이 선택을 잘 모르겠으면 **Y**를 입력 합니다.  
  
7.  제공 되는 다음 권장 값을 검토 합니다.  
  
    1.  권장 되는 총 페더레이션 서버 수는 회색으로 강조 표시 되는 오른쪽 아래 셀을 참조 하세요.  
  
    2.  각 예제 응용 프로그램 시나리오에 권장 되는 서버 수는 회색으로 강조 표시 된 행의 셀을 참조 하십시오.  
  
> [!NOTE]  
> 스프레드시트의 맨 아래에 있는 **총 페더레이션 서버 수** 에 해당 하는 셀의 오른쪽에 있는 셀에서 자동으로 계산 되는 값에는 추가 20% 버퍼를 추가 하는 수식이 포함 되어 있습니다. **총 페더레이션 서버 수** 에 추가 된 수식은이 버퍼에 추가 된 총 권장 된 페더레이션 서버 수에이 버퍼에 추가 됩니다. 이렇게 하면 팜의 전체 부하가 해당 포화 지점에 도달할 가능성이 매우 낮습니다.  
  
## <a name="see-also"></a>참고 항목
[Windows Server 2012의 AD FS 디자인 가이드](AD-FS-Design-Guide-in-Windows-Server-2012.md)
